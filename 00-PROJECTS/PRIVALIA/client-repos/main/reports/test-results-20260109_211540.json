{
  "collection": {
    "_": {
      "postman_id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890"
    },
    "item": [
      {
        "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
        "name": "Cybersource - Denegaciones",
        "description": {
          "content": "Casos de prueba para denegaciones de Cybersource",
          "type": "text/plain"
        },
        "item": [
          {
            "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
            "name": "DECLINED - EXPIRED_CARD",
            "request": {
              "description": {
                "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                "type": "text/plain"
              },
              "url": {
                "path": [
                  "api",
                  "payment",
                  "process"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
              }
            },
            "response": [
              {
                "_": {
                  "postman_previewlanguage": "json"
                },
                "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                "name": "EXPIRED_CARD - Success Response",
                "originalRequest": {
                  "url": {
                    "path": [
                      "api",
                      "payment",
                      "process"
                    ],
                    "host": [
                      "{{base_url}}"
                    ],
                    "query": [],
                    "variable": []
                  },
                  "method": "POST",
                  "body": {
                    "mode": "raw",
                    "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                    "options": {
                      "raw": {
                        "language": "json"
                      }
                    }
                  }
                },
                "status": "Created",
                "code": 201,
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                "cookie": []
              }
            ],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"HTTP Status es 201\", function () {",
                    "    pm.response.to.have.status(201);",
                    "});",
                    "",
                    "pm.test(\"Status es DECLINED\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                    "});",
                    "",
                    "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                    "});",
                    "",
                    "pm.test(\"Mensaje al cliente es correcto\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                    "});",
                    "",
                    "pm.test(\"No requiere alerta\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.alerta).to.be.undefined;",
                    "});"
                  ],
                  "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                }
              }
            ]
          },
          {
            "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
            "name": "DECLINED - PROCESSOR_DECLINED",
            "request": {
              "description": {
                "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                "type": "text/plain"
              },
              "url": {
                "path": [
                  "api",
                  "payment",
                  "process"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
              }
            },
            "response": [
              {
                "_": {
                  "postman_previewlanguage": "json"
                },
                "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                "name": "PROCESSOR_DECLINED - Success Response",
                "originalRequest": {
                  "url": {
                    "path": [
                      "api",
                      "payment",
                      "process"
                    ],
                    "host": [
                      "{{base_url}}"
                    ],
                    "query": [],
                    "variable": []
                  },
                  "method": "POST",
                  "body": {
                    "mode": "raw",
                    "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                    "options": {
                      "raw": {
                        "language": "json"
                      }
                    }
                  }
                },
                "status": "Created",
                "code": 201,
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                "cookie": []
              }
            ],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"HTTP Status es 201\", function () {",
                    "    pm.response.to.have.status(201);",
                    "});",
                    "",
                    "pm.test(\"Status es DECLINED\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                    "});",
                    "",
                    "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                    "});",
                    "",
                    "pm.test(\"Mensaje al cliente es correcto\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                    "});"
                  ],
                  "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                }
              }
            ]
          },
          {
            "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
            "name": "DECLINED - INSUFFICIENT_FUND",
            "request": {
              "description": {
                "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                "type": "text/plain"
              },
              "url": {
                "path": [
                  "api",
                  "payment",
                  "process"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"HTTP Status es 201\", function () {",
                    "    pm.response.to.have.status(201);",
                    "});",
                    "",
                    "pm.test(\"Status es DECLINED\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                    "});",
                    "",
                    "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                    "});",
                    "",
                    "pm.test(\"Mensaje al cliente es correcto\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                    "});"
                  ],
                  "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                }
              }
            ]
          },
          {
            "id": "f547e68b-b551-47b9-b672-456839bae984",
            "name": "DECLINED - CVN_NOT_MATCH",
            "request": {
              "description": {
                "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                "type": "text/plain"
              },
              "url": {
                "path": [
                  "api",
                  "payment",
                  "process"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"HTTP Status es 201\", function () {",
                    "    pm.response.to.have.status(201);",
                    "});",
                    "",
                    "pm.test(\"Status es DECLINED\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                    "});",
                    "",
                    "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                    "});",
                    "",
                    "pm.test(\"Mensaje al cliente es correcto\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                    "});"
                  ],
                  "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                }
              }
            ]
          },
          {
            "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
            "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
            "request": {
              "description": {
                "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                "type": "text/plain"
              },
              "url": {
                "path": [
                  "api",
                  "payment",
                  "process"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"HTTP Status es 201\", function () {",
                    "    pm.response.to.have.status(201);",
                    "});",
                    "",
                    "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                    "});",
                    "",
                    "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                    "});",
                    "",
                    "pm.test(\"Mensaje al cliente es correcto\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                    "});"
                  ],
                  "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                }
              }
            ]
          }
        ],
        "event": []
      },
      {
        "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
        "name": "Cybersource - Errores Técnicos",
        "description": {
          "content": "Casos de prueba para errores técnicos de Cybersource",
          "type": "text/plain"
        },
        "item": [
          {
            "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
            "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
            "request": {
              "description": {
                "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                "type": "text/plain"
              },
              "url": {
                "path": [
                  "api",
                  "payment",
                  "process"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "57c01491-681b-4d47-85da-ba3376d46685",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"HTTP Status es 201\", function () {",
                    "    pm.response.to.have.status(201);",
                    "});",
                    "",
                    "pm.test(\"Status es INVALID_REQUEST\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                    "});",
                    "",
                    "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                    "});",
                    "",
                    "pm.test(\"Mensaje al cliente es correcto\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                    "});",
                    "",
                    "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                    "});"
                  ],
                  "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                }
              }
            ]
          },
          {
            "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
            "name": "INVALID_REQUEST - MISSING_FIELD (400)",
            "request": {
              "description": {
                "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                "type": "text/plain"
              },
              "url": {
                "path": [
                  "api",
                  "payment",
                  "process"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"HTTP Status es 400\", function () {",
                    "    pm.response.to.have.status(400);",
                    "});",
                    "",
                    "pm.test(\"Status es INVALID_REQUEST\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                    "});",
                    "",
                    "pm.test(\"Reason es MISSING_FIELD\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                    "});",
                    "",
                    "pm.test(\"Mensaje al cliente es correcto\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                    "});",
                    "",
                    "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                    "});"
                  ],
                  "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                }
              }
            ]
          },
          {
            "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
            "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
            "request": {
              "description": {
                "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                "type": "text/plain"
              },
              "url": {
                "path": [
                  "api",
                  "payment",
                  "process"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "X-Request-ID",
                  "value": "DUPLICATE-123456"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"HTTP Status es 400\", function () {",
                    "    pm.response.to.have.status(400);",
                    "});",
                    "",
                    "pm.test(\"Status es INVALID_REQUEST\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                    "});",
                    "",
                    "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                    "});",
                    "",
                    "pm.test(\"Mensaje al cliente es correcto\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                    "});",
                    "",
                    "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                    "});"
                  ],
                  "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                }
              }
            ]
          },
          {
            "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
            "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
            "request": {
              "description": {
                "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                "type": "text/plain"
              },
              "url": {
                "path": [
                  "api",
                  "payment",
                  "process"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "X-Simulate-Error",
                  "value": "SYSTEM_ERROR"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"HTTP Status es 502\", function () {",
                    "    pm.response.to.have.status(502);",
                    "});",
                    "",
                    "pm.test(\"Status es SERVER_ERROR\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                    "});",
                    "",
                    "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                    "});",
                    "",
                    "pm.test(\"Mensaje al cliente es correcto\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                    "});",
                    "",
                    "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                    "});"
                  ],
                  "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                }
              }
            ]
          }
        ],
        "event": []
      },
      {
        "id": "61678e23-c2b1-40ad-a453-d5c5a2e29234",
        "name": "PayPal - Flujos Exitosos",
        "description": {
          "content": "Casos de prueba exitosos para PayPal",
          "type": "text/plain"
        },
        "item": [
          {
            "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
            "name": "Agreement Created - 201",
            "request": {
              "description": {
                "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
                "type": "text/plain"
              },
              "url": {
                "path": [
                  "api",
                  "payment",
                  "agreement"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"HTTP Status es 201\", function () {",
                    "    pm.response.to.have.status(201);",
                    "});",
                    "",
                    "pm.test(\"Status es Created\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.status).to.eql(\"Created\");",
                    "});",
                    "",
                    "pm.test(\"Agreement ID está presente\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.agreement_id).to.exist;",
                    "});",
                    "",
                    "pm.test(\"No requiere mensaje de error\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                    "});"
                  ],
                  "_lastExecutionId": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
                }
              }
            ]
          },
          {
            "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
            "name": "Payment Success - 200",
            "request": {
              "description": {
                "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
                "type": "text/plain"
              },
              "url": {
                "path": [
                  "api",
                  "payment",
                  "process"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"HTTP Status es 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Status es OK\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.status).to.eql(\"OK\");",
                    "});",
                    "",
                    "pm.test(\"Payment ID está presente\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.payment_id).to.exist;",
                    "});",
                    "",
                    "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                    "});"
                  ],
                  "_lastExecutionId": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
                }
              }
            ]
          }
        ],
        "event": []
      },
      {
        "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
        "name": "PayPal - Errores Técnicos",
        "description": {
          "content": "Casos de prueba de errores técnicos para PayPal",
          "type": "text/plain"
        },
        "item": [
          {
            "id": "e3508988-5c75-41c0-9608-527c363bd73a",
            "name": "Bad Request - 400",
            "request": {
              "description": {
                "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                "type": "text/plain"
              },
              "url": {
                "path": [
                  "api",
                  "payment",
                  "process"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"HTTP Status es 400\", function () {",
                    "    pm.response.to.have.status(400);",
                    "});",
                    "",
                    "pm.test(\"Status es Bad Request\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                    "});",
                    "",
                    "pm.test(\"Mensaje al cliente es correcto\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                    "});",
                    "",
                    "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                    "});"
                  ],
                  "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                }
              }
            ]
          },
          {
            "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
            "name": "Unauthorized - 401",
            "request": {
              "description": {
                "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                "type": "text/plain"
              },
              "url": {
                "path": [
                  "api",
                  "payment",
                  "process"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer INVALID_TOKEN"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"HTTP Status es 401\", function () {",
                    "    pm.response.to.have.status(401);",
                    "});",
                    "",
                    "pm.test(\"Status es Unauthorized\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                    "});",
                    "",
                    "pm.test(\"Mensaje al cliente es correcto\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                    "});",
                    "",
                    "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                    "});"
                  ],
                  "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                }
              }
            ]
          },
          {
            "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
            "name": "Unprocessable Entity - 422",
            "request": {
              "description": {
                "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                "type": "text/plain"
              },
              "url": {
                "path": [
                  "api",
                  "payment",
                  "process"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"HTTP Status es 422\", function () {",
                    "    pm.response.to.have.status(422);",
                    "});",
                    "",
                    "pm.test(\"Status es Unprocessable Entity\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                    "});",
                    "",
                    "pm.test(\"Mensaje al cliente es correcto\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                    "});"
                  ],
                  "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                }
              }
            ]
          },
          {
            "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
            "name": "Too Many Requests - 429",
            "request": {
              "description": {
                "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                "type": "text/plain"
              },
              "url": {
                "path": [
                  "api",
                  "payment",
                  "process"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "X-Simulate-Rate-Limit",
                  "value": "true"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"HTTP Status es 429\", function () {",
                    "    pm.response.to.have.status(429);",
                    "});",
                    "",
                    "pm.test(\"Status es Too Many Requests\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                    "});",
                    "",
                    "pm.test(\"Mensaje al cliente es correcto\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                    "});",
                    "",
                    "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                    "});"
                  ],
                  "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                }
              }
            ]
          },
          {
            "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
            "name": "Internal Server Error - 500",
            "request": {
              "description": {
                "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                "type": "text/plain"
              },
              "url": {
                "path": [
                  "api",
                  "payment",
                  "process"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "X-Simulate-Error",
                  "value": "500"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"HTTP Status es 500\", function () {",
                    "    pm.response.to.have.status(500);",
                    "});",
                    "",
                    "pm.test(\"Status es Internal Server Error\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                    "});",
                    "",
                    "pm.test(\"Mensaje al cliente es correcto\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                    "});",
                    "",
                    "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                    "});"
                  ],
                  "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                }
              }
            ]
          },
          {
            "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
            "name": "Service Unavailable - 503",
            "request": {
              "description": {
                "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                "type": "text/plain"
              },
              "url": {
                "path": [
                  "api",
                  "payment",
                  "process"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "X-Simulate-Unavailable",
                  "value": "true"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"HTTP Status es 503\", function () {",
                    "    pm.response.to.have.status(503);",
                    "});",
                    "",
                    "pm.test(\"Status es Service Unavailable\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                    "});",
                    "",
                    "pm.test(\"Mensaje al cliente es correcto\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                    "});",
                    "",
                    "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                    "});"
                  ],
                  "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                }
              }
            ]
          }
        ],
        "event": []
      },
      {
        "id": "bd705882-081d-4abe-b911-528acbd93e18",
        "name": "Edge Cases",
        "description": {
          "content": "Casos extremos y edge cases",
          "type": "text/plain"
        },
        "item": [
          {
            "id": "f5e45222-6dff-4caa-bb52-178903a5943a",
            "name": "Error Code No Documentado - Mensaje Genérico",
            "request": {
              "description": {
                "content": "Prueba de código de error no documentado.\n\nRespuesta esperada:\n- Mensaje genérico: Pago no procesado. Por favor, inténtalo con otra forma de pago",
                "type": "text/plain"
              },
              "url": {
                "path": [
                  "api",
                  "payment",
                  "process"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"simulate_unknown_error\": true,\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "eda99e77-7c1c-4519-8ca6-a3c84077ab19",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Código de error no documentado\", function () {",
                    "    pm.response.to.have.status(201);",
                    "});",
                    "",
                    "pm.test(\"Mensaje genérico mostrado\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra forma de pago\");",
                    "});"
                  ],
                  "_lastExecutionId": "df3b9025-2523-4717-83a5-3cd31e544c6c"
                }
              }
            ]
          }
        ],
        "event": []
      }
    ],
    "event": [
      {
        "listen": "prerequest",
        "script": {
          "id": "f3d46835-b845-4c95-92ac-5b7db8a809ae",
          "type": "text/javascript",
          "exec": [
            "// Script de pre-request global",
            "console.log('Ejecutando request: ' + pm.info.requestName);",
            "console.log('Timestamp: ' + new Date().toISOString());"
          ],
          "_lastExecutionId": "a50a7ae8-b820-4ce5-a50b-6e5b0b1369a9"
        }
      },
      {
        "listen": "test",
        "script": {
          "id": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "type": "text/javascript",
          "exec": [
            "// Script de test global",
            "pm.test(\"Response time es menor a 2000ms\", function () {",
            "    pm.expect(pm.response.responseTime).to.be.below(2000);",
            "});",
            "",
            "pm.test(\"Content-Type es application/json\", function () {",
            "    pm.response.to.have.header(\"Content-Type\");",
            "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
            "});"
          ],
          "_lastExecutionId": "49c7895d-b309-4d4a-a291-91cc0987e657"
        }
      }
    ],
    "variable": [
      {
        "type": "string",
        "value": "https://api-checkout.example.com",
        "key": "base_url"
      },
      {
        "type": "string",
        "value": "staging",
        "key": "environment"
      }
    ],
    "info": {
      "_postman_id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
      "name": "Checkout Error Handling API - PSP Testing",
      "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
      "description": {
        "content": "Colección completa para pruebas de gestión de errores en Checkout con PSPs (Cybersource y PayPal)\n\nAutor: QA Analyst con ISTQB\nFecha: 2025-12-24\nObjetivo: Validar mensajes de error y códigos de respuesta según especificación",
        "type": "text/plain"
      }
    }
  },
  "environment": {
    "_": {
      "postman_variable_scope": "environment",
      "postman_exported_at": "2025-12-24T11:00:00.000Z",
      "postman_exported_using": "Postman/10.0.0"
    },
    "id": "b2c3d4e5-f6a7-8901-bcde-f12345678901",
    "name": "Checkout Testing Environment",
    "values": [
      {
        "type": "any",
        "value": "https://api-checkout-staging.example.com",
        "key": "base_url"
      },
      {
        "type": "any",
        "value": "https://api-checkout.example.com",
        "key": "base_url_production"
      },
      {
        "type": "any",
        "value": "http://localhost:8080",
        "key": "base_url_dev"
      },
      {
        "type": "any",
        "value": "YOUR_API_KEY_HERE",
        "key": "api_key"
      },
      {
        "type": "any",
        "value": "MERCHANT_TEST_001",
        "key": "merchant_id"
      },
      {
        "type": "any",
        "value": "2000",
        "key": "timeout_threshold"
      },
      {
        "type": "any",
        "value": "4111111111111111",
        "key": "test_card_valid"
      },
      {
        "type": "any",
        "value": "4111111111111111",
        "key": "test_card_expired"
      },
      {
        "type": "any",
        "value": "123",
        "key": "test_cvv_valid"
      },
      {
        "type": "any",
        "value": "999",
        "key": "test_cvv_invalid"
      }
    ]
  },
  "globals": {
    "id": "ba9d9e19-6560-4f77-84d5-5404a7bebcbf",
    "values": []
  },
  "run": {
    "stats": {
      "iterations": {
        "total": 1,
        "pending": 0,
        "failed": 0
      },
      "items": {
        "total": 18,
        "pending": 0,
        "failed": 0
      },
      "scripts": {
        "total": 54,
        "pending": 0,
        "failed": 0
      },
      "prerequests": {
        "total": 18,
        "pending": 0,
        "failed": 0
      },
      "requests": {
        "total": 18,
        "pending": 0,
        "failed": 18
      },
      "tests": {
        "total": 18,
        "pending": 0,
        "failed": 0
      },
      "assertions": {
        "total": 110,
        "pending": 0,
        "failed": 110
      },
      "testScripts": {
        "total": 36,
        "pending": 0,
        "failed": 0
      },
      "prerequestScripts": {
        "total": 18,
        "pending": 0,
        "failed": 0
      }
    },
    "timings": {
      "responseAverage": 0,
      "responseMin": 0,
      "responseMax": 0,
      "responseSd": 0,
      "dnsAverage": 0,
      "dnsMin": 0,
      "dnsMax": 0,
      "dnsSd": 0,
      "firstByteAverage": 0,
      "firstByteMin": 0,
      "firstByteMax": 0,
      "firstByteSd": 0,
      "started": 1767989741180,
      "completed": 1767989743498
    },
    "executions": [
      {
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 18,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "e8f41a27-4b49-438c-a8dc-a86ae066978c",
          "httpRequestId": "432f1e76-8b0a-4b7c-9f92-b34c41535c7f"
        },
        "item": {
          "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
          "name": "DECLINED - EXPIRED_CARD",
          "request": {
            "description": {
              "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "909d9b7e-afa8-46db-8830-3947d219328d",
              "name": "EXPIRED_CARD - Success Response",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                }
              },
              "status": "Created",
              "code": 201,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                  "});",
                  "",
                  "pm.test(\"No requiere alerta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.be.undefined;",
                  "});"
                ],
                "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
              }
            }
          ]
        },
        "request": {
          "description": {
            "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
            "type": "text/plain"
          },
          "url": {
            "protocol": "https",
            "path": [
              "api",
              "payment",
              "process"
            ],
            "host": [
              "api-checkout-staging",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "8031441f-7fb1-4700-9575-f261d2d643c5",
              "system": true
            },
            {
              "key": "Host",
              "value": "api-checkout-staging.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
          }
        },
        "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com"
        },
        "assertions": [
          {
            "assertion": "Response time es menor a 2000ms",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Response time es menor a 2000ms",
              "message": "expected undefined to be a number or a date",
              "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:1)"
            }
          },
          {
            "assertion": "Content-Type es application/json",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 1,
              "test": "Content-Type es application/json",
              "message": "expected response to have header with key 'Content-Type'",
              "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:1)"
            }
          },
          {
            "assertion": "HTTP Status es 201",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "HTTP Status es 201",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:1)"
            }
          },
          {
            "assertion": "Status es DECLINED",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Status es DECLINED",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:1)"
            }
          },
          {
            "assertion": "Reason es EXPIRED_CARD",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Reason es EXPIRED_CARD",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:1)"
            }
          },
          {
            "assertion": "Mensaje al cliente es correcto",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 3,
              "test": "Mensaje al cliente es correcto",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:1)"
            }
          },
          {
            "assertion": "No requiere alerta",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 4,
              "test": "No requiere alerta",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:5:1)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "b82fb683-a1fc-4da1-802e-e6e8fbff6445",
          "length": 18,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "7f75edd1-b73e-4cc0-93f2-40e5e2743bbb"
        },
        "item": {
          "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
          "name": "DECLINED - PROCESSOR_DECLINED",
          "request": {
            "description": {
              "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
              "name": "PROCESSOR_DECLINED - Success Response",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                }
              },
              "status": "Created",
              "code": 201,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                  "});"
                ],
                "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
              }
            }
          ]
        },
        "request": {
          "description": {
            "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
            "type": "text/plain"
          },
          "url": {
            "protocol": "https",
            "path": [
              "api",
              "payment",
              "process"
            ],
            "host": [
              "api-checkout-staging",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "8c6a6ea0-c23a-4b4b-93aa-f72bb59b971c",
              "system": true
            },
            {
              "key": "Host",
              "value": "api-checkout-staging.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
          }
        },
        "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com"
        },
        "assertions": [
          {
            "assertion": "Response time es menor a 2000ms",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Response time es menor a 2000ms",
              "message": "expected undefined to be a number or a date",
              "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:2)"
            }
          },
          {
            "assertion": "Content-Type es application/json",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 1,
              "test": "Content-Type es application/json",
              "message": "expected response to have header with key 'Content-Type'",
              "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:2)"
            }
          },
          {
            "assertion": "HTTP Status es 201",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "HTTP Status es 201",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:2)"
            }
          },
          {
            "assertion": "Status es DECLINED",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Status es DECLINED",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:2)"
            }
          },
          {
            "assertion": "Reason es PROCESSOR_DECLINED",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Reason es PROCESSOR_DECLINED",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:2)"
            }
          },
          {
            "assertion": "Mensaje al cliente es correcto",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 3,
              "test": "Mensaje al cliente es correcto",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:2)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "22fb6481-7031-4b3d-8cd7-c996a3a11a6e",
          "length": 18,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "7d37d548-3338-449c-a829-72e351f7cc2e"
        },
        "item": {
          "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
          "name": "DECLINED - INSUFFICIENT_FUND",
          "request": {
            "description": {
              "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                  "});"
                ],
                "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
              }
            }
          ]
        },
        "request": {
          "description": {
            "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
            "type": "text/plain"
          },
          "url": {
            "protocol": "https",
            "path": [
              "api",
              "payment",
              "process"
            ],
            "host": [
              "api-checkout-staging",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "dd8f5b06-0636-45bc-b716-99fd0ffeb6ac",
              "system": true
            },
            {
              "key": "Host",
              "value": "api-checkout-staging.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
          }
        },
        "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com"
        },
        "assertions": [
          {
            "assertion": "Response time es menor a 2000ms",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Response time es menor a 2000ms",
              "message": "expected undefined to be a number or a date",
              "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:3)"
            }
          },
          {
            "assertion": "Content-Type es application/json",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 1,
              "test": "Content-Type es application/json",
              "message": "expected response to have header with key 'Content-Type'",
              "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:3)"
            }
          },
          {
            "assertion": "HTTP Status es 201",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "HTTP Status es 201",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:3)"
            }
          },
          {
            "assertion": "Status es DECLINED",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Status es DECLINED",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:3)"
            }
          },
          {
            "assertion": "Reason es INSUFFICIENT_FUND",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Reason es INSUFFICIENT_FUND",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:3)"
            }
          },
          {
            "assertion": "Mensaje al cliente es correcto",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 3,
              "test": "Mensaje al cliente es correcto",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:3)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "3271b3ab-5d8f-490f-9e85-2e3f812fea16",
          "length": 18,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "67074a4a-e0fb-40ab-8be1-85b3bede308a"
        },
        "item": {
          "id": "f547e68b-b551-47b9-b672-456839bae984",
          "name": "DECLINED - CVN_NOT_MATCH",
          "request": {
            "description": {
              "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                  "});"
                ],
                "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
              }
            }
          ]
        },
        "request": {
          "description": {
            "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
            "type": "text/plain"
          },
          "url": {
            "protocol": "https",
            "path": [
              "api",
              "payment",
              "process"
            ],
            "host": [
              "api-checkout-staging",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "7fb1d32f-3ff9-4d7f-abcc-d873c806025a",
              "system": true
            },
            {
              "key": "Host",
              "value": "api-checkout-staging.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
          }
        },
        "id": "f547e68b-b551-47b9-b672-456839bae984",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com"
        },
        "assertions": [
          {
            "assertion": "Response time es menor a 2000ms",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Response time es menor a 2000ms",
              "message": "expected undefined to be a number or a date",
              "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:4)"
            }
          },
          {
            "assertion": "Content-Type es application/json",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 1,
              "test": "Content-Type es application/json",
              "message": "expected response to have header with key 'Content-Type'",
              "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:4)"
            }
          },
          {
            "assertion": "HTTP Status es 201",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "HTTP Status es 201",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:4)"
            }
          },
          {
            "assertion": "Status es DECLINED",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Status es DECLINED",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:4)"
            }
          },
          {
            "assertion": "Reason es CVN_NOT_MATCH",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Reason es CVN_NOT_MATCH",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:4)"
            }
          },
          {
            "assertion": "Mensaje al cliente es correcto",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 3,
              "test": "Mensaje al cliente es correcto",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:4)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "cad1f8bd-2068-4e7e-8ddf-14f38f2c49bc",
          "length": 18,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "362267be-f9c9-4f0d-8354-20c79a3ca23e"
        },
        "item": {
          "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
          "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
          "request": {
            "description": {
              "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                  "});"
                ],
                "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
              }
            }
          ]
        },
        "request": {
          "description": {
            "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
            "type": "text/plain"
          },
          "url": {
            "protocol": "https",
            "path": [
              "api",
              "payment",
              "process"
            ],
            "host": [
              "api-checkout-staging",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "546d78bc-b590-4407-8835-ecddf73932b8",
              "system": true
            },
            {
              "key": "Host",
              "value": "api-checkout-staging.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
          }
        },
        "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com"
        },
        "assertions": [
          {
            "assertion": "Response time es menor a 2000ms",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Response time es menor a 2000ms",
              "message": "expected undefined to be a number or a date",
              "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:5)"
            }
          },
          {
            "assertion": "Content-Type es application/json",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 1,
              "test": "Content-Type es application/json",
              "message": "expected response to have header with key 'Content-Type'",
              "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:5)"
            }
          },
          {
            "assertion": "HTTP Status es 201",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "HTTP Status es 201",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:5)"
            }
          },
          {
            "assertion": "Status es AUTHORIZED_RISK_DECLINED",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Status es AUTHORIZED_RISK_DECLINED",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:5)"
            }
          },
          {
            "assertion": "Reason es SCORE_EXCEEDS_THRESHOLD",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Reason es SCORE_EXCEEDS_THRESHOLD",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:5)"
            }
          },
          {
            "assertion": "Mensaje al cliente es correcto",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 3,
              "test": "Mensaje al cliente es correcto",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:5)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "a156706c-e0a2-4d46-b048-1a4aca4b7f13",
          "length": 18,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "bb8e5cb2-2919-46fc-a3ae-ba47d91e828d"
        },
        "item": {
          "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
          "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
          "request": {
            "description": {
              "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "57c01491-681b-4d47-85da-ba3376d46685",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
              }
            }
          ]
        },
        "request": {
          "description": {
            "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
            "type": "text/plain"
          },
          "url": {
            "protocol": "https",
            "path": [
              "api",
              "payment",
              "process"
            ],
            "host": [
              "api-checkout-staging",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "49a32905-11b4-4d8a-ba7a-158474d6aa6c",
              "system": true
            },
            {
              "key": "Host",
              "value": "api-checkout-staging.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
          }
        },
        "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com"
        },
        "assertions": [
          {
            "assertion": "Response time es menor a 2000ms",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Response time es menor a 2000ms",
              "message": "expected undefined to be a number or a date",
              "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:6)"
            }
          },
          {
            "assertion": "Content-Type es application/json",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 1,
              "test": "Content-Type es application/json",
              "message": "expected response to have header with key 'Content-Type'",
              "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:6)"
            }
          },
          {
            "assertion": "HTTP Status es 201",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "HTTP Status es 201",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:6)"
            }
          },
          {
            "assertion": "Status es INVALID_REQUEST",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Status es INVALID_REQUEST",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:6)"
            }
          },
          {
            "assertion": "Reason es INVALID_MERCHANT_CONFIGURATION",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Reason es INVALID_MERCHANT_CONFIGURATION",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:6)"
            }
          },
          {
            "assertion": "Mensaje al cliente es correcto",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 3,
              "test": "Mensaje al cliente es correcto",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:6)"
            }
          },
          {
            "assertion": "Requiere alerta de criticidad Alta",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 4,
              "test": "Requiere alerta de criticidad Alta",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:5:6)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "8894bf5c-af71-4ea1-a1ea-57564ba7d309",
          "length": 18,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "29180651-1ea6-41f4-85a3-70c2a84a7080"
        },
        "item": {
          "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
          "name": "INVALID_REQUEST - MISSING_FIELD (400)",
          "request": {
            "description": {
              "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es MISSING_FIELD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
              }
            }
          ]
        },
        "request": {
          "description": {
            "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
            "type": "text/plain"
          },
          "url": {
            "protocol": "https",
            "path": [
              "api",
              "payment",
              "process"
            ],
            "host": [
              "api-checkout-staging",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "d69a24e6-7800-466f-ac46-7213104b2214",
              "system": true
            },
            {
              "key": "Host",
              "value": "api-checkout-staging.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
          }
        },
        "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com"
        },
        "assertions": [
          {
            "assertion": "Response time es menor a 2000ms",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Response time es menor a 2000ms",
              "message": "expected undefined to be a number or a date",
              "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:7)"
            }
          },
          {
            "assertion": "Content-Type es application/json",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 1,
              "test": "Content-Type es application/json",
              "message": "expected response to have header with key 'Content-Type'",
              "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:7)"
            }
          },
          {
            "assertion": "HTTP Status es 400",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "HTTP Status es 400",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:7)"
            }
          },
          {
            "assertion": "Status es INVALID_REQUEST",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Status es INVALID_REQUEST",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:7)"
            }
          },
          {
            "assertion": "Reason es MISSING_FIELD",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Reason es MISSING_FIELD",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:7)"
            }
          },
          {
            "assertion": "Mensaje al cliente es correcto",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 3,
              "test": "Mensaje al cliente es correcto",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:7)"
            }
          },
          {
            "assertion": "Requiere alerta de criticidad Alta",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 4,
              "test": "Requiere alerta de criticidad Alta",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:5:7)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "ea5028a8-8c12-4796-ad7d-14bcc423660c",
          "length": 18,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "1fbed9a6-2a25-4bd7-bcb2-b6acc2bbf16e"
        },
        "item": {
          "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
          "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
          "request": {
            "description": {
              "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "DUPLICATE-123456"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
              }
            }
          ]
        },
        "request": {
          "description": {
            "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
            "type": "text/plain"
          },
          "url": {
            "protocol": "https",
            "path": [
              "api",
              "payment",
              "process"
            ],
            "host": [
              "api-checkout-staging",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "X-Request-ID",
              "value": "DUPLICATE-123456"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "7e56ac1d-5d98-445e-8373-01e0f3ce2d10",
              "system": true
            },
            {
              "key": "Host",
              "value": "api-checkout-staging.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
          }
        },
        "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com"
        },
        "assertions": [
          {
            "assertion": "Response time es menor a 2000ms",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Response time es menor a 2000ms",
              "message": "expected undefined to be a number or a date",
              "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:8)"
            }
          },
          {
            "assertion": "Content-Type es application/json",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 1,
              "test": "Content-Type es application/json",
              "message": "expected response to have header with key 'Content-Type'",
              "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:8)"
            }
          },
          {
            "assertion": "HTTP Status es 400",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "HTTP Status es 400",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:8)"
            }
          },
          {
            "assertion": "Status es INVALID_REQUEST",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Status es INVALID_REQUEST",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:8)"
            }
          },
          {
            "assertion": "Reason es DUPLICATE_REQUEST",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Reason es DUPLICATE_REQUEST",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:8)"
            }
          },
          {
            "assertion": "Mensaje al cliente es correcto",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 3,
              "test": "Mensaje al cliente es correcto",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:8)"
            }
          },
          {
            "assertion": "Requiere alerta de criticidad Alta",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 4,
              "test": "Requiere alerta de criticidad Alta",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:5:8)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "3fe78e2d-3b05-45e2-bc3b-0afc3f8babf2",
          "length": 18,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "2f6aeaa6-856b-4158-84d3-4fc7cc126bc3"
        },
        "item": {
          "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
          "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
          "request": {
            "description": {
              "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Error",
                "value": "SYSTEM_ERROR"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 502\", function () {",
                  "    pm.response.to.have.status(502);",
                  "});",
                  "",
                  "pm.test(\"Status es SERVER_ERROR\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                  "});",
                  "",
                  "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
              }
            }
          ]
        },
        "request": {
          "description": {
            "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
            "type": "text/plain"
          },
          "url": {
            "protocol": "https",
            "path": [
              "api",
              "payment",
              "process"
            ],
            "host": [
              "api-checkout-staging",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "X-Simulate-Error",
              "value": "SYSTEM_ERROR"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "e313b323-a9cc-44d9-a52e-f2a68b6f9f21",
              "system": true
            },
            {
              "key": "Host",
              "value": "api-checkout-staging.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
          }
        },
        "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com"
        },
        "assertions": [
          {
            "assertion": "Response time es menor a 2000ms",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Response time es menor a 2000ms",
              "message": "expected undefined to be a number or a date",
              "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:9)"
            }
          },
          {
            "assertion": "Content-Type es application/json",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 1,
              "test": "Content-Type es application/json",
              "message": "expected response to have header with key 'Content-Type'",
              "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:9)"
            }
          },
          {
            "assertion": "HTTP Status es 502",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "HTTP Status es 502",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:9)"
            }
          },
          {
            "assertion": "Status es SERVER_ERROR",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Status es SERVER_ERROR",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:9)"
            }
          },
          {
            "assertion": "Reason es SYSTEM_ERROR",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Reason es SYSTEM_ERROR",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:9)"
            }
          },
          {
            "assertion": "Mensaje al cliente es correcto",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 3,
              "test": "Mensaje al cliente es correcto",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:9)"
            }
          },
          {
            "assertion": "Requiere alerta de criticidad Alta",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 4,
              "test": "Requiere alerta de criticidad Alta",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:5:9)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "3c2cf757-ba13-480b-9cdd-041f8e2739da",
          "length": 18,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "db4f278e-efa2-4929-96c2-4eda0b7de1ce"
        },
        "item": {
          "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
          "name": "Agreement Created - 201",
          "request": {
            "description": {
              "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "agreement"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es Created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Created\");",
                  "});",
                  "",
                  "pm.test(\"Agreement ID está presente\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.agreement_id).to.exist;",
                  "});",
                  "",
                  "pm.test(\"No requiere mensaje de error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                  "});"
                ],
                "_lastExecutionId": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
              }
            }
          ]
        },
        "request": {
          "description": {
            "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
            "type": "text/plain"
          },
          "url": {
            "protocol": "https",
            "path": [
              "api",
              "payment",
              "agreement"
            ],
            "host": [
              "api-checkout-staging",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "5dda3561-a713-4227-a151-793701a0391e",
              "system": true
            },
            {
              "key": "Host",
              "value": "api-checkout-staging.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
          }
        },
        "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com"
        },
        "assertions": [
          {
            "assertion": "Response time es menor a 2000ms",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Response time es menor a 2000ms",
              "message": "expected undefined to be a number or a date",
              "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:10)"
            }
          },
          {
            "assertion": "Content-Type es application/json",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 1,
              "test": "Content-Type es application/json",
              "message": "expected response to have header with key 'Content-Type'",
              "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:10)"
            }
          },
          {
            "assertion": "HTTP Status es 201",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "HTTP Status es 201",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:10)"
            }
          },
          {
            "assertion": "Status es Created",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Status es Created",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:10)"
            }
          },
          {
            "assertion": "Agreement ID está presente",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Agreement ID está presente",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:10)"
            }
          },
          {
            "assertion": "No requiere mensaje de error",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 3,
              "test": "No requiere mensaje de error",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:10)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "9a7fbcfc-d042-4aa5-89fc-c630dbfb244c",
          "length": 18,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "fa808fa4-670d-4a31-889d-31dfa431371a"
        },
        "item": {
          "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
          "name": "Payment Success - 200",
          "request": {
            "description": {
              "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Status es OK\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"OK\");",
                  "});",
                  "",
                  "pm.test(\"Payment ID está presente\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.payment_id).to.exist;",
                  "});",
                  "",
                  "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                  "});"
                ],
                "_lastExecutionId": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
              }
            }
          ]
        },
        "request": {
          "description": {
            "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
            "type": "text/plain"
          },
          "url": {
            "protocol": "https",
            "path": [
              "api",
              "payment",
              "process"
            ],
            "host": [
              "api-checkout-staging",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "601166ec-aa47-40d3-8ddc-0c1a8ba9f25f",
              "system": true
            },
            {
              "key": "Host",
              "value": "api-checkout-staging.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
          }
        },
        "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com"
        },
        "assertions": [
          {
            "assertion": "Response time es menor a 2000ms",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Response time es menor a 2000ms",
              "message": "expected undefined to be a number or a date",
              "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:11)"
            }
          },
          {
            "assertion": "Content-Type es application/json",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 1,
              "test": "Content-Type es application/json",
              "message": "expected response to have header with key 'Content-Type'",
              "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:11)"
            }
          },
          {
            "assertion": "HTTP Status es 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "HTTP Status es 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:11)"
            }
          },
          {
            "assertion": "Status es OK",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Status es OK",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:11)"
            }
          },
          {
            "assertion": "Payment ID está presente",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Payment ID está presente",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:11)"
            }
          },
          {
            "assertion": "Debe redirigir a página de confirmación",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 3,
              "test": "Debe redirigir a página de confirmación",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:11)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "794b9aec-5613-43d2-982c-0db7b29084a5",
          "length": 18,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "392671b7-9347-4ad8-9138-914415a66425"
        },
        "item": {
          "id": "e3508988-5c75-41c0-9608-527c363bd73a",
          "name": "Bad Request - 400",
          "request": {
            "description": {
              "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es Bad Request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
              }
            }
          ]
        },
        "request": {
          "description": {
            "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
            "type": "text/plain"
          },
          "url": {
            "protocol": "https",
            "path": [
              "api",
              "payment",
              "process"
            ],
            "host": [
              "api-checkout-staging",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "a1ae0781-5bba-4c46-bee4-a1409272c7be",
              "system": true
            },
            {
              "key": "Host",
              "value": "api-checkout-staging.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
          }
        },
        "id": "e3508988-5c75-41c0-9608-527c363bd73a",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com"
        },
        "assertions": [
          {
            "assertion": "Response time es menor a 2000ms",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Response time es menor a 2000ms",
              "message": "expected undefined to be a number or a date",
              "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:12)"
            }
          },
          {
            "assertion": "Content-Type es application/json",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 1,
              "test": "Content-Type es application/json",
              "message": "expected response to have header with key 'Content-Type'",
              "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:12)"
            }
          },
          {
            "assertion": "HTTP Status es 400",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "HTTP Status es 400",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:12)"
            }
          },
          {
            "assertion": "Status es Bad Request",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Status es Bad Request",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:12)"
            }
          },
          {
            "assertion": "Mensaje al cliente es correcto",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Mensaje al cliente es correcto",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:12)"
            }
          },
          {
            "assertion": "Requiere alerta de criticidad Alta",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 3,
              "test": "Requiere alerta de criticidad Alta",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:12)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "90ec55be-68c0-4f25-a190-6cdc3a41772c",
          "length": 18,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "34bc2b1f-6831-4d39-b7ce-949ef78db023"
        },
        "item": {
          "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
          "name": "Unauthorized - 401",
          "request": {
            "description": {
              "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer INVALID_TOKEN"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"Status es Unauthorized\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
              }
            }
          ]
        },
        "request": {
          "description": {
            "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
            "type": "text/plain"
          },
          "url": {
            "protocol": "https",
            "path": [
              "api",
              "payment",
              "process"
            ],
            "host": [
              "api-checkout-staging",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer INVALID_TOKEN"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "461dae3e-074d-4516-8cdf-a127b0e1dd61",
              "system": true
            },
            {
              "key": "Host",
              "value": "api-checkout-staging.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
          }
        },
        "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com"
        },
        "assertions": [
          {
            "assertion": "Response time es menor a 2000ms",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Response time es menor a 2000ms",
              "message": "expected undefined to be a number or a date",
              "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:13)"
            }
          },
          {
            "assertion": "Content-Type es application/json",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 1,
              "test": "Content-Type es application/json",
              "message": "expected response to have header with key 'Content-Type'",
              "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:13)"
            }
          },
          {
            "assertion": "HTTP Status es 401",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "HTTP Status es 401",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:13)"
            }
          },
          {
            "assertion": "Status es Unauthorized",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Status es Unauthorized",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:13)"
            }
          },
          {
            "assertion": "Mensaje al cliente es correcto",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Mensaje al cliente es correcto",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:13)"
            }
          },
          {
            "assertion": "Requiere alerta de criticidad Alta",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 3,
              "test": "Requiere alerta de criticidad Alta",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:13)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "a3010d08-5158-4a38-b530-bd901fe8efc1",
          "length": 18,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "7f15cae4-beff-46f1-b061-5d61a56e30d4"
        },
        "item": {
          "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
          "name": "Unprocessable Entity - 422",
          "request": {
            "description": {
              "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 422\", function () {",
                  "    pm.response.to.have.status(422);",
                  "});",
                  "",
                  "pm.test(\"Status es Unprocessable Entity\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});"
                ],
                "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
              }
            }
          ]
        },
        "request": {
          "description": {
            "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
            "type": "text/plain"
          },
          "url": {
            "protocol": "https",
            "path": [
              "api",
              "payment",
              "process"
            ],
            "host": [
              "api-checkout-staging",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "693d6d72-4190-4e65-91b9-c3f502950ea0",
              "system": true
            },
            {
              "key": "Host",
              "value": "api-checkout-staging.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
          }
        },
        "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com"
        },
        "assertions": [
          {
            "assertion": "Response time es menor a 2000ms",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Response time es menor a 2000ms",
              "message": "expected undefined to be a number or a date",
              "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:14)"
            }
          },
          {
            "assertion": "Content-Type es application/json",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 1,
              "test": "Content-Type es application/json",
              "message": "expected response to have header with key 'Content-Type'",
              "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:14)"
            }
          },
          {
            "assertion": "HTTP Status es 422",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "HTTP Status es 422",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:14)"
            }
          },
          {
            "assertion": "Status es Unprocessable Entity",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Status es Unprocessable Entity",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:14)"
            }
          },
          {
            "assertion": "Mensaje al cliente es correcto",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Mensaje al cliente es correcto",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:14)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "c2ec298e-9d23-44b4-b931-450beb791996",
          "length": 18,
          "cycles": 1,
          "position": 14,
          "iteration": 0,
          "httpRequestId": "602a4b8f-a68f-49b8-9f2f-c5a872d7103c"
        },
        "item": {
          "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
          "name": "Too Many Requests - 429",
          "request": {
            "description": {
              "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Rate-Limit",
                "value": "true"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 429\", function () {",
                  "    pm.response.to.have.status(429);",
                  "});",
                  "",
                  "pm.test(\"Status es Too Many Requests\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
              }
            }
          ]
        },
        "request": {
          "description": {
            "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
            "type": "text/plain"
          },
          "url": {
            "protocol": "https",
            "path": [
              "api",
              "payment",
              "process"
            ],
            "host": [
              "api-checkout-staging",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "X-Simulate-Rate-Limit",
              "value": "true"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "012f844b-5930-4914-8fb0-924d27201510",
              "system": true
            },
            {
              "key": "Host",
              "value": "api-checkout-staging.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
          }
        },
        "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com"
        },
        "assertions": [
          {
            "assertion": "Response time es menor a 2000ms",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Response time es menor a 2000ms",
              "message": "expected undefined to be a number or a date",
              "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:15)"
            }
          },
          {
            "assertion": "Content-Type es application/json",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 1,
              "test": "Content-Type es application/json",
              "message": "expected response to have header with key 'Content-Type'",
              "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:15)"
            }
          },
          {
            "assertion": "HTTP Status es 429",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "HTTP Status es 429",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:15)"
            }
          },
          {
            "assertion": "Status es Too Many Requests",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Status es Too Many Requests",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:15)"
            }
          },
          {
            "assertion": "Mensaje al cliente es correcto",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Mensaje al cliente es correcto",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:15)"
            }
          },
          {
            "assertion": "Requiere alerta de criticidad Alta",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 3,
              "test": "Requiere alerta de criticidad Alta",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:15)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "3482fc22-d4d8-404b-8535-6fe731dc10f9",
          "length": 18,
          "cycles": 1,
          "position": 15,
          "iteration": 0,
          "httpRequestId": "c44f4fba-773d-4806-9a99-e8ea70af6748"
        },
        "item": {
          "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
          "name": "Internal Server Error - 500",
          "request": {
            "description": {
              "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Error",
                "value": "500"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 500\", function () {",
                  "    pm.response.to.have.status(500);",
                  "});",
                  "",
                  "pm.test(\"Status es Internal Server Error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
              }
            }
          ]
        },
        "request": {
          "description": {
            "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
            "type": "text/plain"
          },
          "url": {
            "protocol": "https",
            "path": [
              "api",
              "payment",
              "process"
            ],
            "host": [
              "api-checkout-staging",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "X-Simulate-Error",
              "value": "500"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "61bd41c2-611e-4f23-a89d-b24f0262b152",
              "system": true
            },
            {
              "key": "Host",
              "value": "api-checkout-staging.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
          }
        },
        "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com"
        },
        "assertions": [
          {
            "assertion": "Response time es menor a 2000ms",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Response time es menor a 2000ms",
              "message": "expected undefined to be a number or a date",
              "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:16)"
            }
          },
          {
            "assertion": "Content-Type es application/json",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 1,
              "test": "Content-Type es application/json",
              "message": "expected response to have header with key 'Content-Type'",
              "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:16)"
            }
          },
          {
            "assertion": "HTTP Status es 500",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "HTTP Status es 500",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:16)"
            }
          },
          {
            "assertion": "Status es Internal Server Error",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Status es Internal Server Error",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:16)"
            }
          },
          {
            "assertion": "Mensaje al cliente es correcto",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Mensaje al cliente es correcto",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:16)"
            }
          },
          {
            "assertion": "Requiere alerta de criticidad Alta",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 3,
              "test": "Requiere alerta de criticidad Alta",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:16)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "80dddd77-b219-4fc8-b2b6-9f5ba3e90225",
          "length": 18,
          "cycles": 1,
          "position": 16,
          "iteration": 0,
          "httpRequestId": "55868afd-6df4-4c01-b9dd-596caeae199b"
        },
        "item": {
          "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
          "name": "Service Unavailable - 503",
          "request": {
            "description": {
              "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Unavailable",
                "value": "true"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 503\", function () {",
                  "    pm.response.to.have.status(503);",
                  "});",
                  "",
                  "pm.test(\"Status es Service Unavailable\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
              }
            }
          ]
        },
        "request": {
          "description": {
            "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
            "type": "text/plain"
          },
          "url": {
            "protocol": "https",
            "path": [
              "api",
              "payment",
              "process"
            ],
            "host": [
              "api-checkout-staging",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "X-Simulate-Unavailable",
              "value": "true"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "f7bd9346-1117-4a2d-bf4b-ea45cedcb0fe",
              "system": true
            },
            {
              "key": "Host",
              "value": "api-checkout-staging.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
          }
        },
        "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com"
        },
        "assertions": [
          {
            "assertion": "Response time es menor a 2000ms",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Response time es menor a 2000ms",
              "message": "expected undefined to be a number or a date",
              "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:17)"
            }
          },
          {
            "assertion": "Content-Type es application/json",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 1,
              "test": "Content-Type es application/json",
              "message": "expected response to have header with key 'Content-Type'",
              "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:17)"
            }
          },
          {
            "assertion": "HTTP Status es 503",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "HTTP Status es 503",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:17)"
            }
          },
          {
            "assertion": "Status es Service Unavailable",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Status es Service Unavailable",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:17)"
            }
          },
          {
            "assertion": "Mensaje al cliente es correcto",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Mensaje al cliente es correcto",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:17)"
            }
          },
          {
            "assertion": "Requiere alerta de criticidad Alta",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 3,
              "test": "Requiere alerta de criticidad Alta",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:17)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "592417d5-c620-45ac-aa8e-637a9f3e86a8",
          "length": 18,
          "cycles": 1,
          "position": 17,
          "iteration": 0,
          "httpRequestId": "c5d1ee7f-cbdf-422f-88a3-5a0ffa9bb90e"
        },
        "item": {
          "id": "f5e45222-6dff-4caa-bb52-178903a5943a",
          "name": "Error Code No Documentado - Mensaje Genérico",
          "request": {
            "description": {
              "content": "Prueba de código de error no documentado.\n\nRespuesta esperada:\n- Mensaje genérico: Pago no procesado. Por favor, inténtalo con otra forma de pago",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"simulate_unknown_error\": true,\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "eda99e77-7c1c-4519-8ca6-a3c84077ab19",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Código de error no documentado\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Mensaje genérico mostrado\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra forma de pago\");",
                  "});"
                ],
                "_lastExecutionId": "df3b9025-2523-4717-83a5-3cd31e544c6c"
              }
            }
          ]
        },
        "request": {
          "description": {
            "content": "Prueba de código de error no documentado.\n\nRespuesta esperada:\n- Mensaje genérico: Pago no procesado. Por favor, inténtalo con otra forma de pago",
            "type": "text/plain"
          },
          "url": {
            "protocol": "https",
            "path": [
              "api",
              "payment",
              "process"
            ],
            "host": [
              "api-checkout-staging",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "45fdaeee-36ee-4cde-96b0-a065c7eeb1bb",
              "system": true
            },
            {
              "key": "Host",
              "value": "api-checkout-staging.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"simulate_unknown_error\": true,\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
          }
        },
        "id": "f5e45222-6dff-4caa-bb52-178903a5943a",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com"
        },
        "assertions": [
          {
            "assertion": "Response time es menor a 2000ms",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Response time es menor a 2000ms",
              "message": "expected undefined to be a number or a date",
              "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:18)"
            }
          },
          {
            "assertion": "Content-Type es application/json",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 1,
              "test": "Content-Type es application/json",
              "message": "expected response to have header with key 'Content-Type'",
              "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:18)"
            }
          },
          {
            "assertion": "Código de error no documentado",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Código de error no documentado",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:18)"
            }
          },
          {
            "assertion": "Mensaje genérico mostrado",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Mensaje genérico mostrado",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:18)"
            }
          }
        ]
      }
    ],
    "transfers": {
      "responseTotal": 0
    },
    "failures": [
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api-checkout-staging.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api-checkout-staging.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:121:26)",
          "checksum": "0815f653f21e24ab7bd341340f78a17d",
          "id": "9d4679ce-a443-4b23-a4c5-121e557855aa",
          "timestamp": 1767989741339,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 121,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
          "name": "DECLINED - EXPIRED_CARD",
          "request": {
            "description": {
              "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
              "type": "text/plain"
            },
            "url": {
              "protocol": "https",
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "api-checkout-staging",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "8031441f-7fb1-4700-9575-f261d2d643c5",
                "system": true
              },
              {
                "key": "Host",
                "value": "api-checkout-staging.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [
            {
              "id": "909d9b7e-afa8-46db-8830-3947d219328d",
              "name": "EXPIRED_CARD - Success Response",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "https://api-checkout-staging.example.com"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                }
              },
              "status": "Created",
              "code": 201,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                  "});",
                  "",
                  "pm.test(\"No requiere alerta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.be.undefined;",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 18,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "e8f41a27-4b49-438c-a8dc-a86ae066978c",
          "httpRequestId": "432f1e76-8b0a-4b7c-9f92-b34c41535c7f"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Response time es menor a 2000ms",
          "message": "expected undefined to be a number or a date",
          "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:1)",
          "checksum": "bc9a755fa26608f552dc4ae88dce96cf",
          "id": "61e44832-b52e-4fc6-bd2f-3eb897b59fed",
          "timestamp": 1767989741347,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 1,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
          "name": "DECLINED - EXPIRED_CARD",
          "request": {
            "description": {
              "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "909d9b7e-afa8-46db-8830-3947d219328d",
              "name": "EXPIRED_CARD - Success Response",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                }
              },
              "status": "Created",
              "code": 201,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                  "});",
                  "",
                  "pm.test(\"No requiere alerta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.be.undefined;",
                  "});"
                ],
                "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 18,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "e8f41a27-4b49-438c-a8dc-a86ae066978c",
          "httpRequestId": "432f1e76-8b0a-4b7c-9f92-b34c41535c7f",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "605701e7-bbb4-47ff-9547-214f123025c0"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 1,
          "test": "Content-Type es application/json",
          "message": "expected response to have header with key 'Content-Type'",
          "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:1)",
          "checksum": "f77b0a401fb9743a4fe2366830759c10",
          "id": "97480d64-df62-4590-b23c-c1b74c494bf6",
          "timestamp": 1767989741348,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 1,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
          "name": "DECLINED - EXPIRED_CARD",
          "request": {
            "description": {
              "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "909d9b7e-afa8-46db-8830-3947d219328d",
              "name": "EXPIRED_CARD - Success Response",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                }
              },
              "status": "Created",
              "code": 201,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                  "});",
                  "",
                  "pm.test(\"No requiere alerta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.be.undefined;",
                  "});"
                ],
                "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 18,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "e8f41a27-4b49-438c-a8dc-a86ae066978c",
          "httpRequestId": "432f1e76-8b0a-4b7c-9f92-b34c41535c7f",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "605701e7-bbb4-47ff-9547-214f123025c0"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "HTTP Status es 201",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:1)",
          "checksum": "ccccb1b6b9b17f4e4ca82969537ef0e9",
          "id": "fe0eee9c-a604-4ed2-a99b-7798c248cc6b",
          "timestamp": 1767989741351,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 1,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
          "name": "DECLINED - EXPIRED_CARD",
          "request": {
            "description": {
              "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "909d9b7e-afa8-46db-8830-3947d219328d",
              "name": "EXPIRED_CARD - Success Response",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                }
              },
              "status": "Created",
              "code": 201,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                  "});",
                  "",
                  "pm.test(\"No requiere alerta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.be.undefined;",
                  "});"
                ],
                "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 18,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "e8f41a27-4b49-438c-a8dc-a86ae066978c",
          "httpRequestId": "432f1e76-8b0a-4b7c-9f92-b34c41535c7f",
          "scriptId": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
          "execution": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Status es DECLINED",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:1)",
          "checksum": "7084c6b714e2f31d9d377db810bde4fd",
          "id": "d7168e27-ee28-4856-a191-7e5699043130",
          "timestamp": 1767989741351,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 1,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
          "name": "DECLINED - EXPIRED_CARD",
          "request": {
            "description": {
              "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "909d9b7e-afa8-46db-8830-3947d219328d",
              "name": "EXPIRED_CARD - Success Response",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                }
              },
              "status": "Created",
              "code": 201,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                  "});",
                  "",
                  "pm.test(\"No requiere alerta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.be.undefined;",
                  "});"
                ],
                "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 18,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "e8f41a27-4b49-438c-a8dc-a86ae066978c",
          "httpRequestId": "432f1e76-8b0a-4b7c-9f92-b34c41535c7f",
          "scriptId": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
          "execution": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Reason es EXPIRED_CARD",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:1)",
          "checksum": "cc7e82712a93d7c7bff65c26a2b7bdbe",
          "id": "c72f7c85-c468-4fc5-a100-8d4aba7596ff",
          "timestamp": 1767989741352,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 1,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
          "name": "DECLINED - EXPIRED_CARD",
          "request": {
            "description": {
              "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "909d9b7e-afa8-46db-8830-3947d219328d",
              "name": "EXPIRED_CARD - Success Response",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                }
              },
              "status": "Created",
              "code": 201,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                  "});",
                  "",
                  "pm.test(\"No requiere alerta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.be.undefined;",
                  "});"
                ],
                "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 18,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "e8f41a27-4b49-438c-a8dc-a86ae066978c",
          "httpRequestId": "432f1e76-8b0a-4b7c-9f92-b34c41535c7f",
          "scriptId": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
          "execution": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 3,
          "test": "Mensaje al cliente es correcto",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:1)",
          "checksum": "8b5a22c672f614b097ce22f8f779c236",
          "id": "35beff5d-d861-4946-9d9f-2a6258d586ce",
          "timestamp": 1767989741352,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 4,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 1,
              "native": false
            }
          ]
        },
        "at": "assertion:3 in test-script",
        "source": {
          "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
          "name": "DECLINED - EXPIRED_CARD",
          "request": {
            "description": {
              "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "909d9b7e-afa8-46db-8830-3947d219328d",
              "name": "EXPIRED_CARD - Success Response",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                }
              },
              "status": "Created",
              "code": 201,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                  "});",
                  "",
                  "pm.test(\"No requiere alerta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.be.undefined;",
                  "});"
                ],
                "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 18,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "e8f41a27-4b49-438c-a8dc-a86ae066978c",
          "httpRequestId": "432f1e76-8b0a-4b7c-9f92-b34c41535c7f",
          "scriptId": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
          "execution": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 4,
          "test": "No requiere alerta",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:5:1)",
          "checksum": "45ce0252d53b851d7a1caf2c12ea66a9",
          "id": "4501643e-64eb-49b8-8655-43c5383189f4",
          "timestamp": 1767989741352,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 5,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 1,
              "native": false
            }
          ]
        },
        "at": "assertion:4 in test-script",
        "source": {
          "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
          "name": "DECLINED - EXPIRED_CARD",
          "request": {
            "description": {
              "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "909d9b7e-afa8-46db-8830-3947d219328d",
              "name": "EXPIRED_CARD - Success Response",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                }
              },
              "status": "Created",
              "code": 201,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                  "});",
                  "",
                  "pm.test(\"No requiere alerta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.be.undefined;",
                  "});"
                ],
                "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 18,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "e8f41a27-4b49-438c-a8dc-a86ae066978c",
          "httpRequestId": "432f1e76-8b0a-4b7c-9f92-b34c41535c7f",
          "scriptId": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
          "execution": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api-checkout-staging.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api-checkout-staging.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:121:26)",
          "checksum": "0815f653f21e24ab7bd341340f78a17d",
          "id": "8411c390-92c6-4e7e-b1ea-ccc954b091d6",
          "timestamp": 1767989741477,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 121,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
          "name": "DECLINED - PROCESSOR_DECLINED",
          "request": {
            "description": {
              "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
              "type": "text/plain"
            },
            "url": {
              "protocol": "https",
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "api-checkout-staging",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "8c6a6ea0-c23a-4b4b-93aa-f72bb59b971c",
                "system": true
              },
              {
                "key": "Host",
                "value": "api-checkout-staging.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [
            {
              "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
              "name": "PROCESSOR_DECLINED - Success Response",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "https://api-checkout-staging.example.com"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                }
              },
              "status": "Created",
              "code": 201,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "b82fb683-a1fc-4da1-802e-e6e8fbff6445",
          "length": 18,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "7f75edd1-b73e-4cc0-93f2-40e5e2743bbb"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Response time es menor a 2000ms",
          "message": "expected undefined to be a number or a date",
          "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:2)",
          "checksum": "77675bbba08dda619fc86bc8ed774911",
          "id": "5a2fb29c-6ed5-45bd-b667-96e521213b74",
          "timestamp": 1767989741481,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 2,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
          "name": "DECLINED - PROCESSOR_DECLINED",
          "request": {
            "description": {
              "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
              "name": "PROCESSOR_DECLINED - Success Response",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                }
              },
              "status": "Created",
              "code": 201,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                  "});"
                ],
                "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "b82fb683-a1fc-4da1-802e-e6e8fbff6445",
          "length": 18,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "7f75edd1-b73e-4cc0-93f2-40e5e2743bbb",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "3d8f3bc2-d890-4210-8018-8e10d493322a"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 1,
          "test": "Content-Type es application/json",
          "message": "expected response to have header with key 'Content-Type'",
          "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:2)",
          "checksum": "9ff3fed894d6ddd227cbedd1166261d7",
          "id": "e2b22b5b-7b96-4295-ab78-560e87ecd9c4",
          "timestamp": 1767989741481,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 2,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
          "name": "DECLINED - PROCESSOR_DECLINED",
          "request": {
            "description": {
              "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
              "name": "PROCESSOR_DECLINED - Success Response",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                }
              },
              "status": "Created",
              "code": 201,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                  "});"
                ],
                "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "b82fb683-a1fc-4da1-802e-e6e8fbff6445",
          "length": 18,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "7f75edd1-b73e-4cc0-93f2-40e5e2743bbb",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "3d8f3bc2-d890-4210-8018-8e10d493322a"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "HTTP Status es 201",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:2)",
          "checksum": "9eaf6f239768aae4972f78d57502936d",
          "id": "b60c1dbd-e287-49e8-a006-70e79de4ce5c",
          "timestamp": 1767989741485,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 2,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
          "name": "DECLINED - PROCESSOR_DECLINED",
          "request": {
            "description": {
              "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
              "name": "PROCESSOR_DECLINED - Success Response",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                }
              },
              "status": "Created",
              "code": 201,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                  "});"
                ],
                "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "b82fb683-a1fc-4da1-802e-e6e8fbff6445",
          "length": 18,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "7f75edd1-b73e-4cc0-93f2-40e5e2743bbb",
          "scriptId": "0e94c98a-cabd-42df-acff-01cf89aab40e",
          "execution": "bab05a29-31d6-4e95-8463-16777eea13b9"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Status es DECLINED",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:2)",
          "checksum": "8df0850059e3c3bc0402132de7de1efc",
          "id": "d90f9905-40b3-4dc8-98cd-f2281bf82b5f",
          "timestamp": 1767989741485,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 2,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
          "name": "DECLINED - PROCESSOR_DECLINED",
          "request": {
            "description": {
              "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
              "name": "PROCESSOR_DECLINED - Success Response",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                }
              },
              "status": "Created",
              "code": 201,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                  "});"
                ],
                "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "b82fb683-a1fc-4da1-802e-e6e8fbff6445",
          "length": 18,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "7f75edd1-b73e-4cc0-93f2-40e5e2743bbb",
          "scriptId": "0e94c98a-cabd-42df-acff-01cf89aab40e",
          "execution": "bab05a29-31d6-4e95-8463-16777eea13b9"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Reason es PROCESSOR_DECLINED",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:2)",
          "checksum": "2282e82cd1a5823f948b34b9b8ad414c",
          "id": "9e0adc00-c8f0-422a-abc4-6d79cbb7d964",
          "timestamp": 1767989741485,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 2,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
          "name": "DECLINED - PROCESSOR_DECLINED",
          "request": {
            "description": {
              "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
              "name": "PROCESSOR_DECLINED - Success Response",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                }
              },
              "status": "Created",
              "code": 201,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                  "});"
                ],
                "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "b82fb683-a1fc-4da1-802e-e6e8fbff6445",
          "length": 18,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "7f75edd1-b73e-4cc0-93f2-40e5e2743bbb",
          "scriptId": "0e94c98a-cabd-42df-acff-01cf89aab40e",
          "execution": "bab05a29-31d6-4e95-8463-16777eea13b9"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 3,
          "test": "Mensaje al cliente es correcto",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:2)",
          "checksum": "a6a9d98ecbb427b5808b10a88941d283",
          "id": "3328ae99-b7d9-4261-9a18-4727cd14c217",
          "timestamp": 1767989741485,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 4,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 2,
              "native": false
            }
          ]
        },
        "at": "assertion:3 in test-script",
        "source": {
          "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
          "name": "DECLINED - PROCESSOR_DECLINED",
          "request": {
            "description": {
              "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
              "name": "PROCESSOR_DECLINED - Success Response",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                }
              },
              "status": "Created",
              "code": 201,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                  "});"
                ],
                "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "b82fb683-a1fc-4da1-802e-e6e8fbff6445",
          "length": 18,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "7f75edd1-b73e-4cc0-93f2-40e5e2743bbb",
          "scriptId": "0e94c98a-cabd-42df-acff-01cf89aab40e",
          "execution": "bab05a29-31d6-4e95-8463-16777eea13b9"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api-checkout-staging.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api-checkout-staging.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:121:26)",
          "checksum": "0815f653f21e24ab7bd341340f78a17d",
          "id": "ca725694-c1ff-4dc7-a6a9-b0bcfdebfcb3",
          "timestamp": 1767989741603,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 121,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
          "name": "DECLINED - INSUFFICIENT_FUND",
          "request": {
            "description": {
              "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
              "type": "text/plain"
            },
            "url": {
              "protocol": "https",
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "api-checkout-staging",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "dd8f5b06-0636-45bc-b716-99fd0ffeb6ac",
                "system": true
              },
              {
                "key": "Host",
                "value": "api-checkout-staging.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "22fb6481-7031-4b3d-8cd7-c996a3a11a6e",
          "length": 18,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "7d37d548-3338-449c-a829-72e351f7cc2e"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Response time es menor a 2000ms",
          "message": "expected undefined to be a number or a date",
          "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:3)",
          "checksum": "7a79a9572665d6e514afa86ee3ce2ff4",
          "id": "11b1c141-0117-447f-a365-9acf7e4883c0",
          "timestamp": 1767989741607,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 3,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
          "name": "DECLINED - INSUFFICIENT_FUND",
          "request": {
            "description": {
              "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                  "});"
                ],
                "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "22fb6481-7031-4b3d-8cd7-c996a3a11a6e",
          "length": 18,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "7d37d548-3338-449c-a829-72e351f7cc2e",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "86cef79f-768f-4ece-8738-7e6b7dcaeec2"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 1,
          "test": "Content-Type es application/json",
          "message": "expected response to have header with key 'Content-Type'",
          "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:3)",
          "checksum": "defcd9d16e4ad975665821d20d7b38b0",
          "id": "12acf775-6a66-4fd0-aecc-48131d30564e",
          "timestamp": 1767989741608,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 3,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
          "name": "DECLINED - INSUFFICIENT_FUND",
          "request": {
            "description": {
              "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                  "});"
                ],
                "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "22fb6481-7031-4b3d-8cd7-c996a3a11a6e",
          "length": 18,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "7d37d548-3338-449c-a829-72e351f7cc2e",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "86cef79f-768f-4ece-8738-7e6b7dcaeec2"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "HTTP Status es 201",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:3)",
          "checksum": "33b432736a0fa567646dd6159ac50b52",
          "id": "104f3d73-4667-43c6-8521-c96a79d642ca",
          "timestamp": 1767989741611,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 3,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
          "name": "DECLINED - INSUFFICIENT_FUND",
          "request": {
            "description": {
              "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                  "});"
                ],
                "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "22fb6481-7031-4b3d-8cd7-c996a3a11a6e",
          "length": 18,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "7d37d548-3338-449c-a829-72e351f7cc2e",
          "scriptId": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
          "execution": "4da884e2-afa7-4d68-acfd-7985c332fe33"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Status es DECLINED",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:3)",
          "checksum": "f9c865c2f680789afa5c35b66fe9adfe",
          "id": "ad51a7a7-63e5-4dac-b2d6-646bbb3fde35",
          "timestamp": 1767989741612,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 3,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
          "name": "DECLINED - INSUFFICIENT_FUND",
          "request": {
            "description": {
              "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                  "});"
                ],
                "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "22fb6481-7031-4b3d-8cd7-c996a3a11a6e",
          "length": 18,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "7d37d548-3338-449c-a829-72e351f7cc2e",
          "scriptId": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
          "execution": "4da884e2-afa7-4d68-acfd-7985c332fe33"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Reason es INSUFFICIENT_FUND",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:3)",
          "checksum": "b591bdda4e1d1cf6e6aa93dd85555369",
          "id": "5fa1fd58-b77e-496d-8c7f-26e1b4aedd7a",
          "timestamp": 1767989741612,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 3,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
          "name": "DECLINED - INSUFFICIENT_FUND",
          "request": {
            "description": {
              "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                  "});"
                ],
                "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "22fb6481-7031-4b3d-8cd7-c996a3a11a6e",
          "length": 18,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "7d37d548-3338-449c-a829-72e351f7cc2e",
          "scriptId": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
          "execution": "4da884e2-afa7-4d68-acfd-7985c332fe33"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 3,
          "test": "Mensaje al cliente es correcto",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:3)",
          "checksum": "89458815bba8d297a164fa73d82c1c0b",
          "id": "34b96976-4393-43dd-938d-ca6c74d0163c",
          "timestamp": 1767989741612,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 4,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 3,
              "native": false
            }
          ]
        },
        "at": "assertion:3 in test-script",
        "source": {
          "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
          "name": "DECLINED - INSUFFICIENT_FUND",
          "request": {
            "description": {
              "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                  "});"
                ],
                "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "22fb6481-7031-4b3d-8cd7-c996a3a11a6e",
          "length": 18,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "7d37d548-3338-449c-a829-72e351f7cc2e",
          "scriptId": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
          "execution": "4da884e2-afa7-4d68-acfd-7985c332fe33"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api-checkout-staging.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api-checkout-staging.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:121:26)",
          "checksum": "0815f653f21e24ab7bd341340f78a17d",
          "id": "0f23908a-130f-4b68-98b9-14e8f4c0f104",
          "timestamp": 1767989741731,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 121,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "f547e68b-b551-47b9-b672-456839bae984",
          "name": "DECLINED - CVN_NOT_MATCH",
          "request": {
            "description": {
              "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
              "type": "text/plain"
            },
            "url": {
              "protocol": "https",
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "api-checkout-staging",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "7fb1d32f-3ff9-4d7f-abcc-d873c806025a",
                "system": true
              },
              {
                "key": "Host",
                "value": "api-checkout-staging.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "3271b3ab-5d8f-490f-9e85-2e3f812fea16",
          "length": 18,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "67074a4a-e0fb-40ab-8be1-85b3bede308a"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Response time es menor a 2000ms",
          "message": "expected undefined to be a number or a date",
          "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:4)",
          "checksum": "41e7cd23d3a795840b533628cd7dbcd3",
          "id": "e904a131-c7d1-4261-b6d2-67374befecc7",
          "timestamp": 1767989741733,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 4,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "f547e68b-b551-47b9-b672-456839bae984",
          "name": "DECLINED - CVN_NOT_MATCH",
          "request": {
            "description": {
              "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                  "});"
                ],
                "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3271b3ab-5d8f-490f-9e85-2e3f812fea16",
          "length": 18,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "67074a4a-e0fb-40ab-8be1-85b3bede308a",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "fc0c6afb-d66a-4340-95d0-6da871b5a0f1"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 1,
          "test": "Content-Type es application/json",
          "message": "expected response to have header with key 'Content-Type'",
          "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:4)",
          "checksum": "37a6ed94069d424256b5312c10b1b445",
          "id": "ef9b2bec-fd09-4a9d-a4db-9fd8b78ab16d",
          "timestamp": 1767989741733,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 4,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "f547e68b-b551-47b9-b672-456839bae984",
          "name": "DECLINED - CVN_NOT_MATCH",
          "request": {
            "description": {
              "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                  "});"
                ],
                "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3271b3ab-5d8f-490f-9e85-2e3f812fea16",
          "length": 18,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "67074a4a-e0fb-40ab-8be1-85b3bede308a",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "fc0c6afb-d66a-4340-95d0-6da871b5a0f1"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "HTTP Status es 201",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:4)",
          "checksum": "654662b528be03b2dcb41a74756bb6ba",
          "id": "6032454a-3373-4e9c-a915-d1ffc517f5c7",
          "timestamp": 1767989741737,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 4,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "f547e68b-b551-47b9-b672-456839bae984",
          "name": "DECLINED - CVN_NOT_MATCH",
          "request": {
            "description": {
              "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                  "});"
                ],
                "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3271b3ab-5d8f-490f-9e85-2e3f812fea16",
          "length": 18,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "67074a4a-e0fb-40ab-8be1-85b3bede308a",
          "scriptId": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
          "execution": "7f17618e-3214-439f-92f1-0a3887c3d136"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Status es DECLINED",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:4)",
          "checksum": "1b2392f6235062147f1820234b9b363a",
          "id": "3457b20e-705e-413a-ac53-494eb8642831",
          "timestamp": 1767989741737,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 4,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "f547e68b-b551-47b9-b672-456839bae984",
          "name": "DECLINED - CVN_NOT_MATCH",
          "request": {
            "description": {
              "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                  "});"
                ],
                "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3271b3ab-5d8f-490f-9e85-2e3f812fea16",
          "length": 18,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "67074a4a-e0fb-40ab-8be1-85b3bede308a",
          "scriptId": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
          "execution": "7f17618e-3214-439f-92f1-0a3887c3d136"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Reason es CVN_NOT_MATCH",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:4)",
          "checksum": "0bbc5c0efe7babf0cf41a0db072cca08",
          "id": "835ec051-d43b-44fe-8587-9f9955c06c5a",
          "timestamp": 1767989741737,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 4,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "f547e68b-b551-47b9-b672-456839bae984",
          "name": "DECLINED - CVN_NOT_MATCH",
          "request": {
            "description": {
              "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                  "});"
                ],
                "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3271b3ab-5d8f-490f-9e85-2e3f812fea16",
          "length": 18,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "67074a4a-e0fb-40ab-8be1-85b3bede308a",
          "scriptId": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
          "execution": "7f17618e-3214-439f-92f1-0a3887c3d136"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 3,
          "test": "Mensaje al cliente es correcto",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:4)",
          "checksum": "5778e9e51b7f1e8ee405d5127547c46d",
          "id": "f20fe819-9d19-482d-95ce-29e931be2833",
          "timestamp": 1767989741738,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 4,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 4,
              "native": false
            }
          ]
        },
        "at": "assertion:3 in test-script",
        "source": {
          "id": "f547e68b-b551-47b9-b672-456839bae984",
          "name": "DECLINED - CVN_NOT_MATCH",
          "request": {
            "description": {
              "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                  "});"
                ],
                "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3271b3ab-5d8f-490f-9e85-2e3f812fea16",
          "length": 18,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "67074a4a-e0fb-40ab-8be1-85b3bede308a",
          "scriptId": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
          "execution": "7f17618e-3214-439f-92f1-0a3887c3d136"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api-checkout-staging.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api-checkout-staging.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:121:26)",
          "checksum": "0815f653f21e24ab7bd341340f78a17d",
          "id": "34b582ff-0d52-4a11-b105-34de08ce4ec4",
          "timestamp": 1767989741855,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 121,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
          "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
          "request": {
            "description": {
              "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
              "type": "text/plain"
            },
            "url": {
              "protocol": "https",
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "api-checkout-staging",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "546d78bc-b590-4407-8835-ecddf73932b8",
                "system": true
              },
              {
                "key": "Host",
                "value": "api-checkout-staging.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "cad1f8bd-2068-4e7e-8ddf-14f38f2c49bc",
          "length": 18,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "362267be-f9c9-4f0d-8354-20c79a3ca23e"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Response time es menor a 2000ms",
          "message": "expected undefined to be a number or a date",
          "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:5)",
          "checksum": "101d96e61423e5f3fe2b0bd2f5d5df8f",
          "id": "e78939d5-cc03-4eaf-9142-b43e752cefc0",
          "timestamp": 1767989741859,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 5,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
          "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
          "request": {
            "description": {
              "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                  "});"
                ],
                "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "cad1f8bd-2068-4e7e-8ddf-14f38f2c49bc",
          "length": 18,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "362267be-f9c9-4f0d-8354-20c79a3ca23e",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "12856fea-9314-4e0a-ad21-4faf52b3cffa"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 1,
          "test": "Content-Type es application/json",
          "message": "expected response to have header with key 'Content-Type'",
          "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:5)",
          "checksum": "f0aab31863e1dfd3e9f8707121c5359b",
          "id": "1c2236f9-9a5f-4ead-b3ff-fd0304f09be4",
          "timestamp": 1767989741859,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 5,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
          "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
          "request": {
            "description": {
              "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                  "});"
                ],
                "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "cad1f8bd-2068-4e7e-8ddf-14f38f2c49bc",
          "length": 18,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "362267be-f9c9-4f0d-8354-20c79a3ca23e",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "12856fea-9314-4e0a-ad21-4faf52b3cffa"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "HTTP Status es 201",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:5)",
          "checksum": "1ae8ea8ecb67fbe5ff66ee176f34d7ba",
          "id": "dc2226ab-6d27-47d7-aeb1-3e34c2654968",
          "timestamp": 1767989741863,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 5,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
          "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
          "request": {
            "description": {
              "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                  "});"
                ],
                "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "cad1f8bd-2068-4e7e-8ddf-14f38f2c49bc",
          "length": 18,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "362267be-f9c9-4f0d-8354-20c79a3ca23e",
          "scriptId": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
          "execution": "5e838399-9472-4473-b758-0de60c0bedd4"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Status es AUTHORIZED_RISK_DECLINED",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:5)",
          "checksum": "8eb0cc7aaa51cc7a94c71b04deb09feb",
          "id": "085e9408-c684-451b-a90d-1c6e85a6cc1f",
          "timestamp": 1767989741863,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 5,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
          "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
          "request": {
            "description": {
              "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                  "});"
                ],
                "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "cad1f8bd-2068-4e7e-8ddf-14f38f2c49bc",
          "length": 18,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "362267be-f9c9-4f0d-8354-20c79a3ca23e",
          "scriptId": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
          "execution": "5e838399-9472-4473-b758-0de60c0bedd4"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Reason es SCORE_EXCEEDS_THRESHOLD",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:5)",
          "checksum": "f70f98c27d85caefc3f2eae8e6d221cb",
          "id": "5d5a3a70-a96b-47ec-835e-403fb433fddf",
          "timestamp": 1767989741863,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 5,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
          "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
          "request": {
            "description": {
              "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                  "});"
                ],
                "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "cad1f8bd-2068-4e7e-8ddf-14f38f2c49bc",
          "length": 18,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "362267be-f9c9-4f0d-8354-20c79a3ca23e",
          "scriptId": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
          "execution": "5e838399-9472-4473-b758-0de60c0bedd4"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 3,
          "test": "Mensaje al cliente es correcto",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:5)",
          "checksum": "df22c7fa2f2c6b6c348a34a15748ebf1",
          "id": "aa2ef56c-ee3e-4bef-a0c3-63c372de3b5e",
          "timestamp": 1767989741864,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 4,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 5,
              "native": false
            }
          ]
        },
        "at": "assertion:3 in test-script",
        "source": {
          "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
          "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
          "request": {
            "description": {
              "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                  "});",
                  "",
                  "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                  "});"
                ],
                "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
              }
            }
          ]
        },
        "parent": {
          "id": "0f6892dd-9e07-4670-a9ce-670524d89e66",
          "name": "Cybersource - Denegaciones",
          "description": {
            "content": "Casos de prueba para denegaciones de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e1850a0c-3cc5-4af6-a77e-88e2188055af",
              "name": "DECLINED - EXPIRED_CARD",
              "request": {
                "description": {
                  "content": "Prueba de tarjeta expirada.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: EXPIRED_CARD\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "909d9b7e-afa8-46db-8830-3947d219328d",
                  "name": "EXPIRED_CARD - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2020\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"EXPIRED_CARD\",\n  \"mensaje_cliente\": \"Pago no procesado. Revisa los datos de tu tarjeta\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58e3665b-db28-4ca3-aa4b-4eb8cfef415e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es EXPIRED_CARD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"EXPIRED_CARD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});",
                      "",
                      "pm.test(\"No requiere alerta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "f58d35d4-3edc-4325-87d3-318d1d0d1e8a"
                  }
                }
              ]
            },
            {
              "id": "a7f1f1b2-17e4-43e2-bacf-d63d15d58b7e",
              "name": "DECLINED - PROCESSOR_DECLINED",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por procesador.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: PROCESSOR_DECLINED\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "171d059b-5c61-486b-a741-0dd923bdd2bf",
                  "name": "PROCESSOR_DECLINED - Success Response",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "api",
                        "payment",
                        "process"
                      ],
                      "host": [
                        "{{base_url}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111112\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n  \"psp\": \"Cybersource\",\n  \"categoria\": \"Denegación\",\n  \"http_code\": 201,\n  \"proceso\": \"Pago\",\n  \"status\": \"DECLINED\",\n  \"reason\": \"PROCESSOR_DECLINED\",\n  \"mensaje_cliente\": \"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\"\n}",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0e94c98a-cabd-42df-acff-01cf89aab40e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es PROCESSOR_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"PROCESSOR_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "bab05a29-31d6-4e95-8463-16777eea13b9"
                  }
                }
              ]
            },
            {
              "id": "e4e94e96-90ad-467c-aba8-5fc2cc1eb673",
              "name": "DECLINED - INSUFFICIENT_FUND",
              "request": {
                "description": {
                  "content": "Prueba de fondos insuficientes.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: INSUFFICIENT_FUND\n- Mensaje: Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111113\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b21dceb1-ac3a-4eab-b6db-211bdf78925d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INSUFFICIENT_FUND\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INSUFFICIENT_FUND\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra tarjeta o medio de pago.\");",
                      "});"
                    ],
                    "_lastExecutionId": "4da884e2-afa7-4d68-acfd-7985c332fe33"
                  }
                }
              ]
            },
            {
              "id": "f547e68b-b551-47b9-b672-456839bae984",
              "name": "DECLINED - CVN_NOT_MATCH",
              "request": {
                "description": {
                  "content": "Prueba de CVV incorrecto.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: DECLINED\n- Reason: CVN_NOT_MATCH\n- Mensaje: Pago no procesado. Revisa los datos de tu tarjeta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"999\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "765d0e75-34a8-474e-8c9d-a91f8630b43f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es CVN_NOT_MATCH\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"CVN_NOT_MATCH\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Revisa los datos de tu tarjeta\");",
                      "});"
                    ],
                    "_lastExecutionId": "7f17618e-3214-439f-92f1-0a3887c3d136"
                  }
                }
              ]
            },
            {
              "id": "4aa9cf81-f4a3-4eb7-a478-b82e6035ac50",
              "name": "AUTHORIZED_RISK_DECLINED - SCORE_EXCEEDS_THRESHOLD",
              "request": {
                "description": {
                  "content": "Prueba de rechazo por score de riesgo.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: AUTHORIZED_RISK_DECLINED\n- Reason: SCORE_EXCEEDS_THRESHOLD\n- Mensaje: No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111115\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 10000.00,\n  \"fraud_score\": 95\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es AUTHORIZED_RISK_DECLINED\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"AUTHORIZED_RISK_DECLINED\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SCORE_EXCEEDS_THRESHOLD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SCORE_EXCEEDS_THRESHOLD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"No pudimos completar tu pago. Intenta con otro método o contacta a tu banco.\");",
                      "});"
                    ],
                    "_lastExecutionId": "5e838399-9472-4473-b758-0de60c0bedd4"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "cad1f8bd-2068-4e7e-8ddf-14f38f2c49bc",
          "length": 18,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "362267be-f9c9-4f0d-8354-20c79a3ca23e",
          "scriptId": "21fcbde8-3fb4-4f21-b621-cfa77f7d4e31",
          "execution": "5e838399-9472-4473-b758-0de60c0bedd4"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api-checkout-staging.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api-checkout-staging.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:121:26)",
          "checksum": "0815f653f21e24ab7bd341340f78a17d",
          "id": "7b5892de-0bbb-44ae-8fe8-87148bd1ade5",
          "timestamp": 1767989741980,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 121,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
          "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
          "request": {
            "description": {
              "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "protocol": "https",
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "api-checkout-staging",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "49a32905-11b4-4d8a-ba7a-158474d6aa6c",
                "system": true
              },
              {
                "key": "Host",
                "value": "api-checkout-staging.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "57c01491-681b-4d47-85da-ba3376d46685",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "a156706c-e0a2-4d46-b048-1a4aca4b7f13",
          "length": 18,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "bb8e5cb2-2919-46fc-a3ae-ba47d91e828d"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Response time es menor a 2000ms",
          "message": "expected undefined to be a number or a date",
          "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:6)",
          "checksum": "d003b17efdf54a1e3f823882824193e2",
          "id": "2d38f19f-75e3-49c3-b45b-0f78a33cb629",
          "timestamp": 1767989741984,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 6,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
          "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
          "request": {
            "description": {
              "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "57c01491-681b-4d47-85da-ba3376d46685",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "a156706c-e0a2-4d46-b048-1a4aca4b7f13",
          "length": 18,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "bb8e5cb2-2919-46fc-a3ae-ba47d91e828d",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "79dc554f-56de-41dc-90f6-8d8bc9228a27"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 1,
          "test": "Content-Type es application/json",
          "message": "expected response to have header with key 'Content-Type'",
          "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:6)",
          "checksum": "8b54186cb553402dece2e233ca591d7b",
          "id": "4295150e-07be-498f-b43b-54cd598fb60b",
          "timestamp": 1767989741984,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 6,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
          "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
          "request": {
            "description": {
              "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "57c01491-681b-4d47-85da-ba3376d46685",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "a156706c-e0a2-4d46-b048-1a4aca4b7f13",
          "length": 18,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "bb8e5cb2-2919-46fc-a3ae-ba47d91e828d",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "79dc554f-56de-41dc-90f6-8d8bc9228a27"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "HTTP Status es 201",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:6)",
          "checksum": "20e3615b0497309ab08e7aeb25e4bb40",
          "id": "a65d6acc-2d5b-4142-a62b-8112f853d201",
          "timestamp": 1767989741988,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 6,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
          "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
          "request": {
            "description": {
              "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "57c01491-681b-4d47-85da-ba3376d46685",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "a156706c-e0a2-4d46-b048-1a4aca4b7f13",
          "length": 18,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "bb8e5cb2-2919-46fc-a3ae-ba47d91e828d",
          "scriptId": "57c01491-681b-4d47-85da-ba3376d46685",
          "execution": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Status es INVALID_REQUEST",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:6)",
          "checksum": "bb458debfa279f18ea91d570b0ebf224",
          "id": "14beb1a7-c5a7-4c2b-84c8-f7bed94bfe22",
          "timestamp": 1767989741988,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 6,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
          "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
          "request": {
            "description": {
              "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "57c01491-681b-4d47-85da-ba3376d46685",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "a156706c-e0a2-4d46-b048-1a4aca4b7f13",
          "length": 18,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "bb8e5cb2-2919-46fc-a3ae-ba47d91e828d",
          "scriptId": "57c01491-681b-4d47-85da-ba3376d46685",
          "execution": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Reason es INVALID_MERCHANT_CONFIGURATION",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:6)",
          "checksum": "b15f01210d4c92d2e1f79547b8e9f0e0",
          "id": "be8cce1f-feca-470c-a8c1-f22e664751e8",
          "timestamp": 1767989741988,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 6,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
          "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
          "request": {
            "description": {
              "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "57c01491-681b-4d47-85da-ba3376d46685",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "a156706c-e0a2-4d46-b048-1a4aca4b7f13",
          "length": 18,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "bb8e5cb2-2919-46fc-a3ae-ba47d91e828d",
          "scriptId": "57c01491-681b-4d47-85da-ba3376d46685",
          "execution": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 3,
          "test": "Mensaje al cliente es correcto",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:6)",
          "checksum": "c42db30f642a70aa1930d5f0e4cfdd25",
          "id": "a7d224b4-3013-4d21-80de-25a5dd3a6111",
          "timestamp": 1767989741988,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 4,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 6,
              "native": false
            }
          ]
        },
        "at": "assertion:3 in test-script",
        "source": {
          "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
          "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
          "request": {
            "description": {
              "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "57c01491-681b-4d47-85da-ba3376d46685",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "a156706c-e0a2-4d46-b048-1a4aca4b7f13",
          "length": 18,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "bb8e5cb2-2919-46fc-a3ae-ba47d91e828d",
          "scriptId": "57c01491-681b-4d47-85da-ba3376d46685",
          "execution": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 4,
          "test": "Requiere alerta de criticidad Alta",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:5:6)",
          "checksum": "c423b34a7ce51b62f66955bcac60533b",
          "id": "50aaf27a-0dd6-4824-8e76-c9cce9f6bb76",
          "timestamp": 1767989741989,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 5,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 6,
              "native": false
            }
          ]
        },
        "at": "assertion:4 in test-script",
        "source": {
          "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
          "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
          "request": {
            "description": {
              "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "57c01491-681b-4d47-85da-ba3376d46685",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "a156706c-e0a2-4d46-b048-1a4aca4b7f13",
          "length": 18,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "bb8e5cb2-2919-46fc-a3ae-ba47d91e828d",
          "scriptId": "57c01491-681b-4d47-85da-ba3376d46685",
          "execution": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api-checkout-staging.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api-checkout-staging.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:121:26)",
          "checksum": "0815f653f21e24ab7bd341340f78a17d",
          "id": "8444471a-9f6a-4529-9fdb-6db609df39aa",
          "timestamp": 1767989742107,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 121,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
          "name": "INVALID_REQUEST - MISSING_FIELD (400)",
          "request": {
            "description": {
              "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "protocol": "https",
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "api-checkout-staging",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "d69a24e6-7800-466f-ac46-7213104b2214",
                "system": true
              },
              {
                "key": "Host",
                "value": "api-checkout-staging.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es MISSING_FIELD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "8894bf5c-af71-4ea1-a1ea-57564ba7d309",
          "length": 18,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "29180651-1ea6-41f4-85a3-70c2a84a7080"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Response time es menor a 2000ms",
          "message": "expected undefined to be a number or a date",
          "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:7)",
          "checksum": "d2d37ef5cc9bd0db0e66caa823dea873",
          "id": "2cdad494-d195-40b3-bd6a-f1891f006c9b",
          "timestamp": 1767989742111,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 7,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
          "name": "INVALID_REQUEST - MISSING_FIELD (400)",
          "request": {
            "description": {
              "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es MISSING_FIELD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "8894bf5c-af71-4ea1-a1ea-57564ba7d309",
          "length": 18,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "29180651-1ea6-41f4-85a3-70c2a84a7080",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "eac0e78f-9502-4c45-997d-1333cc46abc6"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 1,
          "test": "Content-Type es application/json",
          "message": "expected response to have header with key 'Content-Type'",
          "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:7)",
          "checksum": "14cbb4cb82c6303fef038ff9718e9b65",
          "id": "3332f38a-37bd-4058-91a7-10c845a906a2",
          "timestamp": 1767989742111,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 7,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
          "name": "INVALID_REQUEST - MISSING_FIELD (400)",
          "request": {
            "description": {
              "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es MISSING_FIELD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "8894bf5c-af71-4ea1-a1ea-57564ba7d309",
          "length": 18,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "29180651-1ea6-41f4-85a3-70c2a84a7080",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "eac0e78f-9502-4c45-997d-1333cc46abc6"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "HTTP Status es 400",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:7)",
          "checksum": "606f6dc9a921a1aaf35084e57c628d17",
          "id": "c87917d3-8df5-46ce-80ec-11fd4fe13fe0",
          "timestamp": 1767989742115,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 7,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
          "name": "INVALID_REQUEST - MISSING_FIELD (400)",
          "request": {
            "description": {
              "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es MISSING_FIELD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "8894bf5c-af71-4ea1-a1ea-57564ba7d309",
          "length": 18,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "29180651-1ea6-41f4-85a3-70c2a84a7080",
          "scriptId": "397e5c52-892b-4c6f-844e-19843a945f45",
          "execution": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Status es INVALID_REQUEST",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:7)",
          "checksum": "42655cc317682cd6bbcbe90255637635",
          "id": "0862c4df-21a3-4bcc-a6ca-7032df67f8c9",
          "timestamp": 1767989742115,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 7,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
          "name": "INVALID_REQUEST - MISSING_FIELD (400)",
          "request": {
            "description": {
              "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es MISSING_FIELD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "8894bf5c-af71-4ea1-a1ea-57564ba7d309",
          "length": 18,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "29180651-1ea6-41f4-85a3-70c2a84a7080",
          "scriptId": "397e5c52-892b-4c6f-844e-19843a945f45",
          "execution": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Reason es MISSING_FIELD",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:7)",
          "checksum": "d780a4cd8705477be28d056094a27f69",
          "id": "190b0292-adf7-426e-8e1d-b037f8e78ba2",
          "timestamp": 1767989742116,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 7,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
          "name": "INVALID_REQUEST - MISSING_FIELD (400)",
          "request": {
            "description": {
              "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es MISSING_FIELD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "8894bf5c-af71-4ea1-a1ea-57564ba7d309",
          "length": 18,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "29180651-1ea6-41f4-85a3-70c2a84a7080",
          "scriptId": "397e5c52-892b-4c6f-844e-19843a945f45",
          "execution": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 3,
          "test": "Mensaje al cliente es correcto",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:7)",
          "checksum": "41a791765ea610b36bba4538d4477e2b",
          "id": "646ebb5b-94c1-4a83-ac91-decc0745098c",
          "timestamp": 1767989742116,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 4,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 7,
              "native": false
            }
          ]
        },
        "at": "assertion:3 in test-script",
        "source": {
          "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
          "name": "INVALID_REQUEST - MISSING_FIELD (400)",
          "request": {
            "description": {
              "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es MISSING_FIELD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "8894bf5c-af71-4ea1-a1ea-57564ba7d309",
          "length": 18,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "29180651-1ea6-41f4-85a3-70c2a84a7080",
          "scriptId": "397e5c52-892b-4c6f-844e-19843a945f45",
          "execution": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 4,
          "test": "Requiere alerta de criticidad Alta",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:5:7)",
          "checksum": "9f4b88c05a51baaafcb3d2ff751ff098",
          "id": "7911a115-9d3f-4282-8729-382bb66a4a76",
          "timestamp": 1767989742116,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 5,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 7,
              "native": false
            }
          ]
        },
        "at": "assertion:4 in test-script",
        "source": {
          "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
          "name": "INVALID_REQUEST - MISSING_FIELD (400)",
          "request": {
            "description": {
              "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es MISSING_FIELD\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "8894bf5c-af71-4ea1-a1ea-57564ba7d309",
          "length": 18,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "29180651-1ea6-41f4-85a3-70c2a84a7080",
          "scriptId": "397e5c52-892b-4c6f-844e-19843a945f45",
          "execution": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api-checkout-staging.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api-checkout-staging.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:121:26)",
          "checksum": "0815f653f21e24ab7bd341340f78a17d",
          "id": "ae40ac0a-7faa-427a-80d2-df9ca02617b4",
          "timestamp": 1767989742232,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 121,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
          "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
          "request": {
            "description": {
              "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "protocol": "https",
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "api-checkout-staging",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "DUPLICATE-123456"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "7e56ac1d-5d98-445e-8373-01e0f3ce2d10",
                "system": true
              },
              {
                "key": "Host",
                "value": "api-checkout-staging.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "ea5028a8-8c12-4796-ad7d-14bcc423660c",
          "length": 18,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "1fbed9a6-2a25-4bd7-bcb2-b6acc2bbf16e"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Response time es menor a 2000ms",
          "message": "expected undefined to be a number or a date",
          "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:8)",
          "checksum": "3ee1020d51f777e7a10749a645cd7780",
          "id": "4b88bd50-d253-4b4e-b934-dffa44366fd5",
          "timestamp": 1767989742235,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 8,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
          "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
          "request": {
            "description": {
              "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "DUPLICATE-123456"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "ea5028a8-8c12-4796-ad7d-14bcc423660c",
          "length": 18,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "1fbed9a6-2a25-4bd7-bcb2-b6acc2bbf16e",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "9d6ee6df-6361-4dca-80b4-1c1e4951095e"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 1,
          "test": "Content-Type es application/json",
          "message": "expected response to have header with key 'Content-Type'",
          "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:8)",
          "checksum": "835130a4f2b341c20468f049c39f2251",
          "id": "c73ffa23-f7e6-4fd4-8704-797e976bc892",
          "timestamp": 1767989742236,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 8,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
          "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
          "request": {
            "description": {
              "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "DUPLICATE-123456"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "ea5028a8-8c12-4796-ad7d-14bcc423660c",
          "length": 18,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "1fbed9a6-2a25-4bd7-bcb2-b6acc2bbf16e",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "9d6ee6df-6361-4dca-80b4-1c1e4951095e"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "HTTP Status es 400",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:8)",
          "checksum": "25446972b7370482c761ef321d05d14b",
          "id": "7aaa5229-5bf0-4351-b4af-51b81f052686",
          "timestamp": 1767989742238,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 8,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
          "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
          "request": {
            "description": {
              "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "DUPLICATE-123456"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "ea5028a8-8c12-4796-ad7d-14bcc423660c",
          "length": 18,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "1fbed9a6-2a25-4bd7-bcb2-b6acc2bbf16e",
          "scriptId": "715ac459-243b-46a8-8aa8-f418dbf593c1",
          "execution": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Status es INVALID_REQUEST",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:8)",
          "checksum": "261355c2c64590b3b694b3bf2a6c3b92",
          "id": "302438f8-4712-467e-863c-8a81065c9c58",
          "timestamp": 1767989742238,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 8,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
          "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
          "request": {
            "description": {
              "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "DUPLICATE-123456"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "ea5028a8-8c12-4796-ad7d-14bcc423660c",
          "length": 18,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "1fbed9a6-2a25-4bd7-bcb2-b6acc2bbf16e",
          "scriptId": "715ac459-243b-46a8-8aa8-f418dbf593c1",
          "execution": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Reason es DUPLICATE_REQUEST",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:8)",
          "checksum": "e62d6859d9d6e942a0c1b9d5b2c4e215",
          "id": "b98f0257-bcec-4b91-8b7b-0b7a1dd04498",
          "timestamp": 1767989742238,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 8,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
          "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
          "request": {
            "description": {
              "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "DUPLICATE-123456"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "ea5028a8-8c12-4796-ad7d-14bcc423660c",
          "length": 18,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "1fbed9a6-2a25-4bd7-bcb2-b6acc2bbf16e",
          "scriptId": "715ac459-243b-46a8-8aa8-f418dbf593c1",
          "execution": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 3,
          "test": "Mensaje al cliente es correcto",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:8)",
          "checksum": "3b19682f6612093992b842dc9450b0f2",
          "id": "12013a62-6b31-4e00-8a37-93fe96b92c43",
          "timestamp": 1767989742238,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 4,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 8,
              "native": false
            }
          ]
        },
        "at": "assertion:3 in test-script",
        "source": {
          "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
          "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
          "request": {
            "description": {
              "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "DUPLICATE-123456"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "ea5028a8-8c12-4796-ad7d-14bcc423660c",
          "length": 18,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "1fbed9a6-2a25-4bd7-bcb2-b6acc2bbf16e",
          "scriptId": "715ac459-243b-46a8-8aa8-f418dbf593c1",
          "execution": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 4,
          "test": "Requiere alerta de criticidad Alta",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:5:8)",
          "checksum": "815aec21c4d8130344fb5a8ad2a5daca",
          "id": "a042f994-4054-4851-94b2-9fe2769bcf9a",
          "timestamp": 1767989742238,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 5,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 8,
              "native": false
            }
          ]
        },
        "at": "assertion:4 in test-script",
        "source": {
          "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
          "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
          "request": {
            "description": {
              "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "DUPLICATE-123456"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es INVALID_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "ea5028a8-8c12-4796-ad7d-14bcc423660c",
          "length": 18,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "1fbed9a6-2a25-4bd7-bcb2-b6acc2bbf16e",
          "scriptId": "715ac459-243b-46a8-8aa8-f418dbf593c1",
          "execution": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api-checkout-staging.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api-checkout-staging.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:121:26)",
          "checksum": "0815f653f21e24ab7bd341340f78a17d",
          "id": "fb6d23c0-aa38-4f64-980d-7a715770ff7d",
          "timestamp": 1767989742356,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 121,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
          "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
          "request": {
            "description": {
              "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "protocol": "https",
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "api-checkout-staging",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Error",
                "value": "SYSTEM_ERROR"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "e313b323-a9cc-44d9-a52e-f2a68b6f9f21",
                "system": true
              },
              {
                "key": "Host",
                "value": "api-checkout-staging.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 502\", function () {",
                  "    pm.response.to.have.status(502);",
                  "});",
                  "",
                  "pm.test(\"Status es SERVER_ERROR\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                  "});",
                  "",
                  "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "3fe78e2d-3b05-45e2-bc3b-0afc3f8babf2",
          "length": 18,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "2f6aeaa6-856b-4158-84d3-4fc7cc126bc3"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Response time es menor a 2000ms",
          "message": "expected undefined to be a number or a date",
          "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:9)",
          "checksum": "b4263b71a16205c5385f78111db59b84",
          "id": "d17ae9f4-32c3-478d-a8ca-728046b60b5d",
          "timestamp": 1767989742359,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 9,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
          "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
          "request": {
            "description": {
              "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Error",
                "value": "SYSTEM_ERROR"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 502\", function () {",
                  "    pm.response.to.have.status(502);",
                  "});",
                  "",
                  "pm.test(\"Status es SERVER_ERROR\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                  "});",
                  "",
                  "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3fe78e2d-3b05-45e2-bc3b-0afc3f8babf2",
          "length": 18,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "2f6aeaa6-856b-4158-84d3-4fc7cc126bc3",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "9e6b0b42-16cc-460d-9bf2-66d1e4b11157"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 1,
          "test": "Content-Type es application/json",
          "message": "expected response to have header with key 'Content-Type'",
          "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:9)",
          "checksum": "6f8a9cf7a9c1feb9cc610a1d007c9246",
          "id": "ffdfe5ed-2b82-4f18-bb08-5bebb28bed9f",
          "timestamp": 1767989742360,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 9,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
          "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
          "request": {
            "description": {
              "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Error",
                "value": "SYSTEM_ERROR"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 502\", function () {",
                  "    pm.response.to.have.status(502);",
                  "});",
                  "",
                  "pm.test(\"Status es SERVER_ERROR\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                  "});",
                  "",
                  "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3fe78e2d-3b05-45e2-bc3b-0afc3f8babf2",
          "length": 18,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "2f6aeaa6-856b-4158-84d3-4fc7cc126bc3",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "9e6b0b42-16cc-460d-9bf2-66d1e4b11157"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "HTTP Status es 502",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:9)",
          "checksum": "475a73f5485c9b8ec82f85511abb8f63",
          "id": "20fcf843-f995-475d-a646-654d2c79ea8d",
          "timestamp": 1767989742362,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 9,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
          "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
          "request": {
            "description": {
              "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Error",
                "value": "SYSTEM_ERROR"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 502\", function () {",
                  "    pm.response.to.have.status(502);",
                  "});",
                  "",
                  "pm.test(\"Status es SERVER_ERROR\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                  "});",
                  "",
                  "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3fe78e2d-3b05-45e2-bc3b-0afc3f8babf2",
          "length": 18,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "2f6aeaa6-856b-4158-84d3-4fc7cc126bc3",
          "scriptId": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
          "execution": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Status es SERVER_ERROR",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:9)",
          "checksum": "0cbbf11d9da5504847940ccd6eb205ce",
          "id": "deaaab84-8878-4f78-ab11-a8b68af2eeba",
          "timestamp": 1767989742363,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 9,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
          "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
          "request": {
            "description": {
              "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Error",
                "value": "SYSTEM_ERROR"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 502\", function () {",
                  "    pm.response.to.have.status(502);",
                  "});",
                  "",
                  "pm.test(\"Status es SERVER_ERROR\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                  "});",
                  "",
                  "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3fe78e2d-3b05-45e2-bc3b-0afc3f8babf2",
          "length": 18,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "2f6aeaa6-856b-4158-84d3-4fc7cc126bc3",
          "scriptId": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
          "execution": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Reason es SYSTEM_ERROR",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:9)",
          "checksum": "0201c01ad4ae60cc641d2ba5c287d40d",
          "id": "7ddcfe80-e93f-4709-abda-71f4724208dc",
          "timestamp": 1767989742363,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 9,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
          "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
          "request": {
            "description": {
              "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Error",
                "value": "SYSTEM_ERROR"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 502\", function () {",
                  "    pm.response.to.have.status(502);",
                  "});",
                  "",
                  "pm.test(\"Status es SERVER_ERROR\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                  "});",
                  "",
                  "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3fe78e2d-3b05-45e2-bc3b-0afc3f8babf2",
          "length": 18,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "2f6aeaa6-856b-4158-84d3-4fc7cc126bc3",
          "scriptId": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
          "execution": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 3,
          "test": "Mensaje al cliente es correcto",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:9)",
          "checksum": "b975b1bd15c5ee7e7e2efd41dc230c6a",
          "id": "b160473d-5522-474f-a31b-194203e3f3f5",
          "timestamp": 1767989742363,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 4,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 9,
              "native": false
            }
          ]
        },
        "at": "assertion:3 in test-script",
        "source": {
          "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
          "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
          "request": {
            "description": {
              "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Error",
                "value": "SYSTEM_ERROR"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 502\", function () {",
                  "    pm.response.to.have.status(502);",
                  "});",
                  "",
                  "pm.test(\"Status es SERVER_ERROR\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                  "});",
                  "",
                  "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3fe78e2d-3b05-45e2-bc3b-0afc3f8babf2",
          "length": 18,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "2f6aeaa6-856b-4158-84d3-4fc7cc126bc3",
          "scriptId": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
          "execution": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 4,
          "test": "Requiere alerta de criticidad Alta",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:5:9)",
          "checksum": "74f497e0e43bc8f756bbd0e9336b4474",
          "id": "e00b8d79-683e-48cb-ac0a-f34af76ac6b4",
          "timestamp": 1767989742363,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 5,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 9,
              "native": false
            }
          ]
        },
        "at": "assertion:4 in test-script",
        "source": {
          "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
          "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
          "request": {
            "description": {
              "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Error",
                "value": "SYSTEM_ERROR"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 502\", function () {",
                  "    pm.response.to.have.status(502);",
                  "});",
                  "",
                  "pm.test(\"Status es SERVER_ERROR\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                  "});",
                  "",
                  "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
              }
            }
          ]
        },
        "parent": {
          "id": "f98a9cf7-964a-4a98-89a3-3871fa5b54f8",
          "name": "Cybersource - Errores Técnicos",
          "description": {
            "content": "Casos de prueba para errores técnicos de Cybersource",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "d42d7c62-165d-477f-8d15-8e5c8e5b7d2e",
              "name": "INVALID_REQUEST - INVALID_MERCHANT_CONFIGURATION",
              "request": {
                "description": {
                  "content": "Prueba de configuración de merchant inválida.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: INVALID_REQUEST\n- Reason: INVALID_MERCHANT_CONFIGURATION\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"merchant_id\": \"INVALID_MERCHANT\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "57c01491-681b-4d47-85da-ba3376d46685",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es INVALID_MERCHANT_CONFIGURATION\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"INVALID_MERCHANT_CONFIGURATION\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "76438a58-8fd8-446a-bec0-35e7dc867f8d"
                  }
                }
              ]
            },
            {
              "id": "fad8e49c-0921-487a-b678-471a078eaaf3",
              "name": "INVALID_REQUEST - MISSING_FIELD (400)",
              "request": {
                "description": {
                  "content": "Prueba de campo faltante (CVV y amount).\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: MISSING_FIELD\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "397e5c52-892b-4c6f-844e-19843a945f45",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es MISSING_FIELD\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"MISSING_FIELD\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "08aa98ef-a943-4653-956c-3e6431f6e0a1"
                  }
                }
              ]
            },
            {
              "id": "55f06e53-96c0-42c6-ac0e-242ce77f764d",
              "name": "INVALID_REQUEST - DUPLICATE_REQUEST (400)",
              "request": {
                "description": {
                  "content": "Prueba de request duplicado.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: INVALID_REQUEST\n- Reason: DUPLICATE_REQUEST\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Request-ID",
                    "value": "DUPLICATE-123456"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"request_id\": \"DUPLICATE-123456\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "715ac459-243b-46a8-8aa8-f418dbf593c1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es INVALID_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"INVALID_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Reason es DUPLICATE_REQUEST\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"DUPLICATE_REQUEST\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8756e2cf-36be-4c6b-a125-96b1caa4cefc"
                  }
                }
              ]
            },
            {
              "id": "5351e271-5900-4ae9-b11e-2324d5d2ffd6",
              "name": "SERVER_ERROR - SYSTEM_ERROR (502)",
              "request": {
                "description": {
                  "content": "Prueba de error del sistema.\n\nRespuesta esperada:\n- HTTP: 502\n- Status: SERVER_ERROR\n- Reason: SYSTEM_ERROR\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "SYSTEM_ERROR"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 502\", function () {",
                      "    pm.response.to.have.status(502);",
                      "});",
                      "",
                      "pm.test(\"Status es SERVER_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"SERVER_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Reason es SYSTEM_ERROR\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.reason).to.eql(\"SYSTEM_ERROR\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3fe78e2d-3b05-45e2-bc3b-0afc3f8babf2",
          "length": 18,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "2f6aeaa6-856b-4158-84d3-4fc7cc126bc3",
          "scriptId": "2cd71e2d-ff11-40e9-915c-2b31fc0271cd",
          "execution": "54c5a18f-bd4a-4658-a58a-e7b9cee61876"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api-checkout-staging.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api-checkout-staging.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:121:26)",
          "checksum": "0815f653f21e24ab7bd341340f78a17d",
          "id": "6e191866-ef77-4c9b-b7ee-506ba83ed0db",
          "timestamp": 1767989742479,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 121,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
          "name": "Agreement Created - 201",
          "request": {
            "description": {
              "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
              "type": "text/plain"
            },
            "url": {
              "protocol": "https",
              "path": [
                "api",
                "payment",
                "agreement"
              ],
              "host": [
                "api-checkout-staging",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "5dda3561-a713-4227-a151-793701a0391e",
                "system": true
              },
              {
                "key": "Host",
                "value": "api-checkout-staging.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es Created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Created\");",
                  "});",
                  "",
                  "pm.test(\"Agreement ID está presente\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.agreement_id).to.exist;",
                  "});",
                  "",
                  "pm.test(\"No requiere mensaje de error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "3c2cf757-ba13-480b-9cdd-041f8e2739da",
          "length": 18,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "db4f278e-efa2-4929-96c2-4eda0b7de1ce"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Response time es menor a 2000ms",
          "message": "expected undefined to be a number or a date",
          "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:10)",
          "checksum": "362f9946dec2570495dfe142061d432c",
          "id": "3b4f1077-e8de-41d1-98ab-a13c666c8b9f",
          "timestamp": 1767989742483,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 10,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
          "name": "Agreement Created - 201",
          "request": {
            "description": {
              "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "agreement"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es Created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Created\");",
                  "});",
                  "",
                  "pm.test(\"Agreement ID está presente\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.agreement_id).to.exist;",
                  "});",
                  "",
                  "pm.test(\"No requiere mensaje de error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                  "});"
                ],
                "_lastExecutionId": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
              }
            }
          ]
        },
        "parent": {
          "id": "61678e23-c2b1-40ad-a453-d5c5a2e29234",
          "name": "PayPal - Flujos Exitosos",
          "description": {
            "content": "Casos de prueba exitosos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
              "name": "Agreement Created - 201",
              "request": {
                "description": {
                  "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "agreement"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es Created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Created\");",
                      "});",
                      "",
                      "pm.test(\"Agreement ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.agreement_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"No requiere mensaje de error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
                  }
                }
              ]
            },
            {
              "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
              "name": "Payment Success - 200",
              "request": {
                "description": {
                  "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Status es OK\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"OK\");",
                      "});",
                      "",
                      "pm.test(\"Payment ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.payment_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                      "});"
                    ],
                    "_lastExecutionId": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3c2cf757-ba13-480b-9cdd-041f8e2739da",
          "length": 18,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "db4f278e-efa2-4929-96c2-4eda0b7de1ce",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "668ea77f-f3ab-48e8-b371-a1ab377d77d9"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 1,
          "test": "Content-Type es application/json",
          "message": "expected response to have header with key 'Content-Type'",
          "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:10)",
          "checksum": "0425286139e0b4ed578a6c218766046e",
          "id": "fd06bff6-ee05-4a5e-9fff-b4f53206deb7",
          "timestamp": 1767989742483,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 10,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
          "name": "Agreement Created - 201",
          "request": {
            "description": {
              "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "agreement"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es Created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Created\");",
                  "});",
                  "",
                  "pm.test(\"Agreement ID está presente\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.agreement_id).to.exist;",
                  "});",
                  "",
                  "pm.test(\"No requiere mensaje de error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                  "});"
                ],
                "_lastExecutionId": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
              }
            }
          ]
        },
        "parent": {
          "id": "61678e23-c2b1-40ad-a453-d5c5a2e29234",
          "name": "PayPal - Flujos Exitosos",
          "description": {
            "content": "Casos de prueba exitosos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
              "name": "Agreement Created - 201",
              "request": {
                "description": {
                  "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "agreement"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es Created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Created\");",
                      "});",
                      "",
                      "pm.test(\"Agreement ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.agreement_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"No requiere mensaje de error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
                  }
                }
              ]
            },
            {
              "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
              "name": "Payment Success - 200",
              "request": {
                "description": {
                  "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Status es OK\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"OK\");",
                      "});",
                      "",
                      "pm.test(\"Payment ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.payment_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                      "});"
                    ],
                    "_lastExecutionId": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3c2cf757-ba13-480b-9cdd-041f8e2739da",
          "length": 18,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "db4f278e-efa2-4929-96c2-4eda0b7de1ce",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "668ea77f-f3ab-48e8-b371-a1ab377d77d9"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "HTTP Status es 201",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:10)",
          "checksum": "6dba8aff8321425f2e682c9b4c594213",
          "id": "e83aba6c-d684-4cbf-9b3b-b895ab3bf086",
          "timestamp": 1767989742486,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 10,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
          "name": "Agreement Created - 201",
          "request": {
            "description": {
              "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "agreement"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es Created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Created\");",
                  "});",
                  "",
                  "pm.test(\"Agreement ID está presente\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.agreement_id).to.exist;",
                  "});",
                  "",
                  "pm.test(\"No requiere mensaje de error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                  "});"
                ],
                "_lastExecutionId": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
              }
            }
          ]
        },
        "parent": {
          "id": "61678e23-c2b1-40ad-a453-d5c5a2e29234",
          "name": "PayPal - Flujos Exitosos",
          "description": {
            "content": "Casos de prueba exitosos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
              "name": "Agreement Created - 201",
              "request": {
                "description": {
                  "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "agreement"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es Created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Created\");",
                      "});",
                      "",
                      "pm.test(\"Agreement ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.agreement_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"No requiere mensaje de error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
                  }
                }
              ]
            },
            {
              "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
              "name": "Payment Success - 200",
              "request": {
                "description": {
                  "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Status es OK\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"OK\");",
                      "});",
                      "",
                      "pm.test(\"Payment ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.payment_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                      "});"
                    ],
                    "_lastExecutionId": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3c2cf757-ba13-480b-9cdd-041f8e2739da",
          "length": 18,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "db4f278e-efa2-4929-96c2-4eda0b7de1ce",
          "scriptId": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
          "execution": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Status es Created",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:10)",
          "checksum": "9bfb389ad878b9fd46199727d631fef7",
          "id": "a5eeea02-6946-46ad-903c-deb3417a26d9",
          "timestamp": 1767989742487,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 10,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
          "name": "Agreement Created - 201",
          "request": {
            "description": {
              "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "agreement"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es Created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Created\");",
                  "});",
                  "",
                  "pm.test(\"Agreement ID está presente\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.agreement_id).to.exist;",
                  "});",
                  "",
                  "pm.test(\"No requiere mensaje de error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                  "});"
                ],
                "_lastExecutionId": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
              }
            }
          ]
        },
        "parent": {
          "id": "61678e23-c2b1-40ad-a453-d5c5a2e29234",
          "name": "PayPal - Flujos Exitosos",
          "description": {
            "content": "Casos de prueba exitosos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
              "name": "Agreement Created - 201",
              "request": {
                "description": {
                  "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "agreement"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es Created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Created\");",
                      "});",
                      "",
                      "pm.test(\"Agreement ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.agreement_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"No requiere mensaje de error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
                  }
                }
              ]
            },
            {
              "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
              "name": "Payment Success - 200",
              "request": {
                "description": {
                  "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Status es OK\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"OK\");",
                      "});",
                      "",
                      "pm.test(\"Payment ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.payment_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                      "});"
                    ],
                    "_lastExecutionId": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3c2cf757-ba13-480b-9cdd-041f8e2739da",
          "length": 18,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "db4f278e-efa2-4929-96c2-4eda0b7de1ce",
          "scriptId": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
          "execution": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Agreement ID está presente",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:10)",
          "checksum": "5fa9d8df8711e9f4aafb410b8f83b659",
          "id": "bfb1f127-161a-49aa-b02e-0ea452847906",
          "timestamp": 1767989742487,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 10,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
          "name": "Agreement Created - 201",
          "request": {
            "description": {
              "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "agreement"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es Created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Created\");",
                  "});",
                  "",
                  "pm.test(\"Agreement ID está presente\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.agreement_id).to.exist;",
                  "});",
                  "",
                  "pm.test(\"No requiere mensaje de error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                  "});"
                ],
                "_lastExecutionId": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
              }
            }
          ]
        },
        "parent": {
          "id": "61678e23-c2b1-40ad-a453-d5c5a2e29234",
          "name": "PayPal - Flujos Exitosos",
          "description": {
            "content": "Casos de prueba exitosos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
              "name": "Agreement Created - 201",
              "request": {
                "description": {
                  "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "agreement"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es Created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Created\");",
                      "});",
                      "",
                      "pm.test(\"Agreement ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.agreement_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"No requiere mensaje de error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
                  }
                }
              ]
            },
            {
              "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
              "name": "Payment Success - 200",
              "request": {
                "description": {
                  "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Status es OK\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"OK\");",
                      "});",
                      "",
                      "pm.test(\"Payment ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.payment_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                      "});"
                    ],
                    "_lastExecutionId": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3c2cf757-ba13-480b-9cdd-041f8e2739da",
          "length": 18,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "db4f278e-efa2-4929-96c2-4eda0b7de1ce",
          "scriptId": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
          "execution": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 3,
          "test": "No requiere mensaje de error",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:10)",
          "checksum": "f52f5298aa2948f981865cc031293d10",
          "id": "2e23abec-182a-4ae3-810f-acc6ce4ab8fe",
          "timestamp": 1767989742487,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 4,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 10,
              "native": false
            }
          ]
        },
        "at": "assertion:3 in test-script",
        "source": {
          "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
          "name": "Agreement Created - 201",
          "request": {
            "description": {
              "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "agreement"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Status es Created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Created\");",
                  "});",
                  "",
                  "pm.test(\"Agreement ID está presente\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.agreement_id).to.exist;",
                  "});",
                  "",
                  "pm.test(\"No requiere mensaje de error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                  "});"
                ],
                "_lastExecutionId": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
              }
            }
          ]
        },
        "parent": {
          "id": "61678e23-c2b1-40ad-a453-d5c5a2e29234",
          "name": "PayPal - Flujos Exitosos",
          "description": {
            "content": "Casos de prueba exitosos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
              "name": "Agreement Created - 201",
              "request": {
                "description": {
                  "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "agreement"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es Created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Created\");",
                      "});",
                      "",
                      "pm.test(\"Agreement ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.agreement_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"No requiere mensaje de error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
                  }
                }
              ]
            },
            {
              "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
              "name": "Payment Success - 200",
              "request": {
                "description": {
                  "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Status es OK\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"OK\");",
                      "});",
                      "",
                      "pm.test(\"Payment ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.payment_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                      "});"
                    ],
                    "_lastExecutionId": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3c2cf757-ba13-480b-9cdd-041f8e2739da",
          "length": 18,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "db4f278e-efa2-4929-96c2-4eda0b7de1ce",
          "scriptId": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
          "execution": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api-checkout-staging.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api-checkout-staging.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:121:26)",
          "checksum": "0815f653f21e24ab7bd341340f78a17d",
          "id": "5990a033-5347-4415-bf3d-26dca5b99597",
          "timestamp": 1767989742604,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 121,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
          "name": "Payment Success - 200",
          "request": {
            "description": {
              "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
              "type": "text/plain"
            },
            "url": {
              "protocol": "https",
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "api-checkout-staging",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "601166ec-aa47-40d3-8ddc-0c1a8ba9f25f",
                "system": true
              },
              {
                "key": "Host",
                "value": "api-checkout-staging.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Status es OK\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"OK\");",
                  "});",
                  "",
                  "pm.test(\"Payment ID está presente\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.payment_id).to.exist;",
                  "});",
                  "",
                  "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "9a7fbcfc-d042-4aa5-89fc-c630dbfb244c",
          "length": 18,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "fa808fa4-670d-4a31-889d-31dfa431371a"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Response time es menor a 2000ms",
          "message": "expected undefined to be a number or a date",
          "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:11)",
          "checksum": "c8ef0b0d83c7d913725ac85bbb4a9fa1",
          "id": "8d52d1f7-c8ec-479c-b738-0d6887f8891f",
          "timestamp": 1767989742608,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 11,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
          "name": "Payment Success - 200",
          "request": {
            "description": {
              "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Status es OK\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"OK\");",
                  "});",
                  "",
                  "pm.test(\"Payment ID está presente\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.payment_id).to.exist;",
                  "});",
                  "",
                  "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                  "});"
                ],
                "_lastExecutionId": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
              }
            }
          ]
        },
        "parent": {
          "id": "61678e23-c2b1-40ad-a453-d5c5a2e29234",
          "name": "PayPal - Flujos Exitosos",
          "description": {
            "content": "Casos de prueba exitosos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
              "name": "Agreement Created - 201",
              "request": {
                "description": {
                  "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "agreement"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es Created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Created\");",
                      "});",
                      "",
                      "pm.test(\"Agreement ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.agreement_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"No requiere mensaje de error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
                  }
                }
              ]
            },
            {
              "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
              "name": "Payment Success - 200",
              "request": {
                "description": {
                  "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Status es OK\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"OK\");",
                      "});",
                      "",
                      "pm.test(\"Payment ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.payment_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                      "});"
                    ],
                    "_lastExecutionId": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "9a7fbcfc-d042-4aa5-89fc-c630dbfb244c",
          "length": 18,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "fa808fa4-670d-4a31-889d-31dfa431371a",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "cb669010-2f18-4f2a-b9e8-2f62ab6e78fb"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 1,
          "test": "Content-Type es application/json",
          "message": "expected response to have header with key 'Content-Type'",
          "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:11)",
          "checksum": "7ea061cd36202ccf016e588335cec902",
          "id": "d17fb434-778c-4a98-ab21-9c0f58b47870",
          "timestamp": 1767989742608,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 11,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
          "name": "Payment Success - 200",
          "request": {
            "description": {
              "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Status es OK\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"OK\");",
                  "});",
                  "",
                  "pm.test(\"Payment ID está presente\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.payment_id).to.exist;",
                  "});",
                  "",
                  "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                  "});"
                ],
                "_lastExecutionId": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
              }
            }
          ]
        },
        "parent": {
          "id": "61678e23-c2b1-40ad-a453-d5c5a2e29234",
          "name": "PayPal - Flujos Exitosos",
          "description": {
            "content": "Casos de prueba exitosos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
              "name": "Agreement Created - 201",
              "request": {
                "description": {
                  "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "agreement"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es Created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Created\");",
                      "});",
                      "",
                      "pm.test(\"Agreement ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.agreement_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"No requiere mensaje de error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
                  }
                }
              ]
            },
            {
              "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
              "name": "Payment Success - 200",
              "request": {
                "description": {
                  "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Status es OK\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"OK\");",
                      "});",
                      "",
                      "pm.test(\"Payment ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.payment_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                      "});"
                    ],
                    "_lastExecutionId": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "9a7fbcfc-d042-4aa5-89fc-c630dbfb244c",
          "length": 18,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "fa808fa4-670d-4a31-889d-31dfa431371a",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "cb669010-2f18-4f2a-b9e8-2f62ab6e78fb"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "HTTP Status es 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:11)",
          "checksum": "97bf9efd6a07243f6c96b676baa5f777",
          "id": "17c4ecb0-ca00-4d96-b5ec-c4371635583a",
          "timestamp": 1767989742612,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 11,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
          "name": "Payment Success - 200",
          "request": {
            "description": {
              "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Status es OK\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"OK\");",
                  "});",
                  "",
                  "pm.test(\"Payment ID está presente\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.payment_id).to.exist;",
                  "});",
                  "",
                  "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                  "});"
                ],
                "_lastExecutionId": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
              }
            }
          ]
        },
        "parent": {
          "id": "61678e23-c2b1-40ad-a453-d5c5a2e29234",
          "name": "PayPal - Flujos Exitosos",
          "description": {
            "content": "Casos de prueba exitosos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
              "name": "Agreement Created - 201",
              "request": {
                "description": {
                  "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "agreement"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es Created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Created\");",
                      "});",
                      "",
                      "pm.test(\"Agreement ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.agreement_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"No requiere mensaje de error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
                  }
                }
              ]
            },
            {
              "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
              "name": "Payment Success - 200",
              "request": {
                "description": {
                  "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Status es OK\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"OK\");",
                      "});",
                      "",
                      "pm.test(\"Payment ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.payment_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                      "});"
                    ],
                    "_lastExecutionId": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "9a7fbcfc-d042-4aa5-89fc-c630dbfb244c",
          "length": 18,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "fa808fa4-670d-4a31-889d-31dfa431371a",
          "scriptId": "7aa1f460-a858-4641-adb3-93a5bd502310",
          "execution": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Status es OK",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:11)",
          "checksum": "27e324478837346b7661c9392c1450cf",
          "id": "280b4bfb-336a-4569-a441-be5cc10fefed",
          "timestamp": 1767989742612,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 11,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
          "name": "Payment Success - 200",
          "request": {
            "description": {
              "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Status es OK\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"OK\");",
                  "});",
                  "",
                  "pm.test(\"Payment ID está presente\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.payment_id).to.exist;",
                  "});",
                  "",
                  "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                  "});"
                ],
                "_lastExecutionId": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
              }
            }
          ]
        },
        "parent": {
          "id": "61678e23-c2b1-40ad-a453-d5c5a2e29234",
          "name": "PayPal - Flujos Exitosos",
          "description": {
            "content": "Casos de prueba exitosos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
              "name": "Agreement Created - 201",
              "request": {
                "description": {
                  "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "agreement"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es Created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Created\");",
                      "});",
                      "",
                      "pm.test(\"Agreement ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.agreement_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"No requiere mensaje de error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
                  }
                }
              ]
            },
            {
              "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
              "name": "Payment Success - 200",
              "request": {
                "description": {
                  "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Status es OK\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"OK\");",
                      "});",
                      "",
                      "pm.test(\"Payment ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.payment_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                      "});"
                    ],
                    "_lastExecutionId": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "9a7fbcfc-d042-4aa5-89fc-c630dbfb244c",
          "length": 18,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "fa808fa4-670d-4a31-889d-31dfa431371a",
          "scriptId": "7aa1f460-a858-4641-adb3-93a5bd502310",
          "execution": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Payment ID está presente",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:11)",
          "checksum": "67cfdeb567f50f248b4154d9f2940113",
          "id": "d998a0ed-0fb0-4951-baa7-cb93f0b28223",
          "timestamp": 1767989742612,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 11,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
          "name": "Payment Success - 200",
          "request": {
            "description": {
              "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Status es OK\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"OK\");",
                  "});",
                  "",
                  "pm.test(\"Payment ID está presente\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.payment_id).to.exist;",
                  "});",
                  "",
                  "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                  "});"
                ],
                "_lastExecutionId": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
              }
            }
          ]
        },
        "parent": {
          "id": "61678e23-c2b1-40ad-a453-d5c5a2e29234",
          "name": "PayPal - Flujos Exitosos",
          "description": {
            "content": "Casos de prueba exitosos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
              "name": "Agreement Created - 201",
              "request": {
                "description": {
                  "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "agreement"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es Created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Created\");",
                      "});",
                      "",
                      "pm.test(\"Agreement ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.agreement_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"No requiere mensaje de error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
                  }
                }
              ]
            },
            {
              "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
              "name": "Payment Success - 200",
              "request": {
                "description": {
                  "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Status es OK\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"OK\");",
                      "});",
                      "",
                      "pm.test(\"Payment ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.payment_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                      "});"
                    ],
                    "_lastExecutionId": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "9a7fbcfc-d042-4aa5-89fc-c630dbfb244c",
          "length": 18,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "fa808fa4-670d-4a31-889d-31dfa431371a",
          "scriptId": "7aa1f460-a858-4641-adb3-93a5bd502310",
          "execution": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 3,
          "test": "Debe redirigir a página de confirmación",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:11)",
          "checksum": "8ec5365d8c02edae6fad1b97493d96ae",
          "id": "3dc2595f-ca39-4bf4-96c8-483773f7963d",
          "timestamp": 1767989742613,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 4,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 11,
              "native": false
            }
          ]
        },
        "at": "assertion:3 in test-script",
        "source": {
          "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
          "name": "Payment Success - 200",
          "request": {
            "description": {
              "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Status es OK\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"OK\");",
                  "});",
                  "",
                  "pm.test(\"Payment ID está presente\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.payment_id).to.exist;",
                  "});",
                  "",
                  "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                  "});"
                ],
                "_lastExecutionId": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
              }
            }
          ]
        },
        "parent": {
          "id": "61678e23-c2b1-40ad-a453-d5c5a2e29234",
          "name": "PayPal - Flujos Exitosos",
          "description": {
            "content": "Casos de prueba exitosos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "46c47107-1094-4a94-ae63-895d0d2c6fe2",
              "name": "Agreement Created - 201",
              "request": {
                "description": {
                  "content": "Prueba de creación exitosa de agreement.\n\nRespuesta esperada:\n- HTTP: 201\n- Status: Created\n- Mostrar el agreement creado",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "agreement"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Creación de Agreement\",\n  \"user_id\": \"user123\",\n  \"billing_plan_id\": \"plan456\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "203bc8ef-7b9c-47a1-81eb-d623c99a0c81",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Status es Created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Created\");",
                      "});",
                      "",
                      "pm.test(\"Agreement ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.agreement_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"No requiere mensaje de error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.be.undefined;",
                      "});"
                    ],
                    "_lastExecutionId": "810561ea-b69b-4b96-b7b6-a5eb255d3a3f"
                  }
                }
              ]
            },
            {
              "id": "79bd2626-7001-43f0-a618-e0a460b84a89",
              "name": "Payment Success - 200",
              "request": {
                "description": {
                  "content": "Prueba de pago exitoso con PayPal.\n\nRespuesta esperada:\n- HTTP: 200\n- Status: OK\n- Redirigir a página de confirmación",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"paypal_token\": \"EC-12345ABCDE\",\n  \"payer_id\": \"PAYER123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7aa1f460-a858-4641-adb3-93a5bd502310",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Status es OK\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"OK\");",
                      "});",
                      "",
                      "pm.test(\"Payment ID está presente\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.payment_id).to.exist;",
                      "});",
                      "",
                      "pm.test(\"Debe redirigir a página de confirmación\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.redirect_url).to.include(\"confirmation\");",
                      "});"
                    ],
                    "_lastExecutionId": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "9a7fbcfc-d042-4aa5-89fc-c630dbfb244c",
          "length": 18,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "fa808fa4-670d-4a31-889d-31dfa431371a",
          "scriptId": "7aa1f460-a858-4641-adb3-93a5bd502310",
          "execution": "89af0921-9644-4c40-b46d-3d5ce3eec9b2"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api-checkout-staging.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api-checkout-staging.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:121:26)",
          "checksum": "0815f653f21e24ab7bd341340f78a17d",
          "id": "d3e707b2-4212-4d2d-8f11-2fee371f862c",
          "timestamp": 1767989742728,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 121,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "e3508988-5c75-41c0-9608-527c363bd73a",
          "name": "Bad Request - 400",
          "request": {
            "description": {
              "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "protocol": "https",
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "api-checkout-staging",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "a1ae0781-5bba-4c46-bee4-a1409272c7be",
                "system": true
              },
              {
                "key": "Host",
                "value": "api-checkout-staging.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es Bad Request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "794b9aec-5613-43d2-982c-0db7b29084a5",
          "length": 18,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "392671b7-9347-4ad8-9138-914415a66425"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Response time es menor a 2000ms",
          "message": "expected undefined to be a number or a date",
          "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:12)",
          "checksum": "a510c3af35dfa76e780980cb809ce3a4",
          "id": "78986437-eeb1-42f2-a91a-1e3ceeb160b9",
          "timestamp": 1767989742731,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 12,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "e3508988-5c75-41c0-9608-527c363bd73a",
          "name": "Bad Request - 400",
          "request": {
            "description": {
              "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es Bad Request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "794b9aec-5613-43d2-982c-0db7b29084a5",
          "length": 18,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "392671b7-9347-4ad8-9138-914415a66425",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "a844fbff-5db4-4787-8687-909eb575d69d"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 1,
          "test": "Content-Type es application/json",
          "message": "expected response to have header with key 'Content-Type'",
          "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:12)",
          "checksum": "1adf474bf06c62691562a8095ecc6183",
          "id": "8e5721c4-d61f-43fc-9804-a58a1f30aee0",
          "timestamp": 1767989742732,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 12,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "e3508988-5c75-41c0-9608-527c363bd73a",
          "name": "Bad Request - 400",
          "request": {
            "description": {
              "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es Bad Request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "794b9aec-5613-43d2-982c-0db7b29084a5",
          "length": 18,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "392671b7-9347-4ad8-9138-914415a66425",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "a844fbff-5db4-4787-8687-909eb575d69d"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "HTTP Status es 400",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:12)",
          "checksum": "e9ad1ce729dfb43252b7b9d11e8f09ea",
          "id": "50b31932-9bb2-4c4e-93b3-00182f181dc9",
          "timestamp": 1767989742735,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 12,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "e3508988-5c75-41c0-9608-527c363bd73a",
          "name": "Bad Request - 400",
          "request": {
            "description": {
              "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es Bad Request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "794b9aec-5613-43d2-982c-0db7b29084a5",
          "length": 18,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "392671b7-9347-4ad8-9138-914415a66425",
          "scriptId": "8714320f-f43a-4458-8220-527c2cb7e7ae",
          "execution": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Status es Bad Request",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:12)",
          "checksum": "fcb87a56dfdd5017be2c6f9f1b1adb47",
          "id": "e7f8daa2-3279-4be8-ac9f-032e85f66c97",
          "timestamp": 1767989742735,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 12,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "e3508988-5c75-41c0-9608-527c363bd73a",
          "name": "Bad Request - 400",
          "request": {
            "description": {
              "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es Bad Request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "794b9aec-5613-43d2-982c-0db7b29084a5",
          "length": 18,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "392671b7-9347-4ad8-9138-914415a66425",
          "scriptId": "8714320f-f43a-4458-8220-527c2cb7e7ae",
          "execution": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Mensaje al cliente es correcto",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:12)",
          "checksum": "6065096ee0b76b847b133cd97ee623f3",
          "id": "976623d4-6b8b-471e-836f-e7c05b9ead32",
          "timestamp": 1767989742735,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 12,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "e3508988-5c75-41c0-9608-527c363bd73a",
          "name": "Bad Request - 400",
          "request": {
            "description": {
              "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es Bad Request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "794b9aec-5613-43d2-982c-0db7b29084a5",
          "length": 18,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "392671b7-9347-4ad8-9138-914415a66425",
          "scriptId": "8714320f-f43a-4458-8220-527c2cb7e7ae",
          "execution": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 3,
          "test": "Requiere alerta de criticidad Alta",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:12)",
          "checksum": "958d519d342d1ae97e01c6c79f3b7ff0",
          "id": "1bfe11c3-a131-40d5-b221-ca36ae4433da",
          "timestamp": 1767989742735,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 4,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 12,
              "native": false
            }
          ]
        },
        "at": "assertion:3 in test-script",
        "source": {
          "id": "e3508988-5c75-41c0-9608-527c363bd73a",
          "name": "Bad Request - 400",
          "request": {
            "description": {
              "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Status es Bad Request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "794b9aec-5613-43d2-982c-0db7b29084a5",
          "length": 18,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "392671b7-9347-4ad8-9138-914415a66425",
          "scriptId": "8714320f-f43a-4458-8220-527c2cb7e7ae",
          "execution": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api-checkout-staging.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api-checkout-staging.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:121:26)",
          "checksum": "0815f653f21e24ab7bd341340f78a17d",
          "id": "7a34e396-7253-4b4f-95ec-f961da8e058b",
          "timestamp": 1767989742852,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 121,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
          "name": "Unauthorized - 401",
          "request": {
            "description": {
              "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "protocol": "https",
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "api-checkout-staging",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer INVALID_TOKEN"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "461dae3e-074d-4516-8cdf-a127b0e1dd61",
                "system": true
              },
              {
                "key": "Host",
                "value": "api-checkout-staging.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"Status es Unauthorized\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "90ec55be-68c0-4f25-a190-6cdc3a41772c",
          "length": 18,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "34bc2b1f-6831-4d39-b7ce-949ef78db023"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Response time es menor a 2000ms",
          "message": "expected undefined to be a number or a date",
          "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:13)",
          "checksum": "81f14570bca9cd836c83228ef7b965a7",
          "id": "c8ba57d5-9b4b-4141-8579-d1e18333c1ae",
          "timestamp": 1767989742856,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 13,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
          "name": "Unauthorized - 401",
          "request": {
            "description": {
              "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer INVALID_TOKEN"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"Status es Unauthorized\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "90ec55be-68c0-4f25-a190-6cdc3a41772c",
          "length": 18,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "34bc2b1f-6831-4d39-b7ce-949ef78db023",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "97fe074c-308b-4551-9dd0-7965a75d2015"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 1,
          "test": "Content-Type es application/json",
          "message": "expected response to have header with key 'Content-Type'",
          "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:13)",
          "checksum": "1ebdd5c1157e2a26258cf432f163dbf8",
          "id": "5d659c3b-ddaa-4b7f-875b-9a2bdb5e3ccc",
          "timestamp": 1767989742857,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 13,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
          "name": "Unauthorized - 401",
          "request": {
            "description": {
              "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer INVALID_TOKEN"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"Status es Unauthorized\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "90ec55be-68c0-4f25-a190-6cdc3a41772c",
          "length": 18,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "34bc2b1f-6831-4d39-b7ce-949ef78db023",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "97fe074c-308b-4551-9dd0-7965a75d2015"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "HTTP Status es 401",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:13)",
          "checksum": "10966dffb2509754248da9ee3e7574c8",
          "id": "f267d88a-b82f-4193-837b-6eb2e8f708d1",
          "timestamp": 1767989742861,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 13,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
          "name": "Unauthorized - 401",
          "request": {
            "description": {
              "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer INVALID_TOKEN"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"Status es Unauthorized\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "90ec55be-68c0-4f25-a190-6cdc3a41772c",
          "length": 18,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "34bc2b1f-6831-4d39-b7ce-949ef78db023",
          "scriptId": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
          "execution": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Status es Unauthorized",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:13)",
          "checksum": "05a4410cc3eccb4e11cca522ff19a9f3",
          "id": "8e456743-a7fe-47fb-8244-5058fced8f3e",
          "timestamp": 1767989742861,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 13,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
          "name": "Unauthorized - 401",
          "request": {
            "description": {
              "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer INVALID_TOKEN"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"Status es Unauthorized\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "90ec55be-68c0-4f25-a190-6cdc3a41772c",
          "length": 18,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "34bc2b1f-6831-4d39-b7ce-949ef78db023",
          "scriptId": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
          "execution": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Mensaje al cliente es correcto",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:13)",
          "checksum": "91a8fd0d3b64308ceb5c663030c5331d",
          "id": "fc46322f-5299-4b96-9fd8-98ee17424dd8",
          "timestamp": 1767989742862,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 13,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
          "name": "Unauthorized - 401",
          "request": {
            "description": {
              "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer INVALID_TOKEN"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"Status es Unauthorized\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "90ec55be-68c0-4f25-a190-6cdc3a41772c",
          "length": 18,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "34bc2b1f-6831-4d39-b7ce-949ef78db023",
          "scriptId": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
          "execution": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 3,
          "test": "Requiere alerta de criticidad Alta",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:13)",
          "checksum": "71cd244f38743230829255ac09aa90d6",
          "id": "1dcfd915-8622-409a-8955-e588184cfb17",
          "timestamp": 1767989742862,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 4,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 13,
              "native": false
            }
          ]
        },
        "at": "assertion:3 in test-script",
        "source": {
          "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
          "name": "Unauthorized - 401",
          "request": {
            "description": {
              "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer INVALID_TOKEN"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"Status es Unauthorized\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "90ec55be-68c0-4f25-a190-6cdc3a41772c",
          "length": 18,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "34bc2b1f-6831-4d39-b7ce-949ef78db023",
          "scriptId": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
          "execution": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api-checkout-staging.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api-checkout-staging.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:121:26)",
          "checksum": "0815f653f21e24ab7bd341340f78a17d",
          "id": "9a7913b6-39e8-4ce7-8f06-2cb883ee336c",
          "timestamp": 1767989742986,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 121,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
          "name": "Unprocessable Entity - 422",
          "request": {
            "description": {
              "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
              "type": "text/plain"
            },
            "url": {
              "protocol": "https",
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "api-checkout-staging",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "693d6d72-4190-4e65-91b9-c3f502950ea0",
                "system": true
              },
              {
                "key": "Host",
                "value": "api-checkout-staging.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 422\", function () {",
                  "    pm.response.to.have.status(422);",
                  "});",
                  "",
                  "pm.test(\"Status es Unprocessable Entity\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "a3010d08-5158-4a38-b530-bd901fe8efc1",
          "length": 18,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "7f15cae4-beff-46f1-b061-5d61a56e30d4"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Response time es menor a 2000ms",
          "message": "expected undefined to be a number or a date",
          "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:14)",
          "checksum": "e563868cf94094deca72b163b51c92db",
          "id": "2fa65b2b-0e13-42d8-9639-e4392cecafff",
          "timestamp": 1767989742990,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 14,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
          "name": "Unprocessable Entity - 422",
          "request": {
            "description": {
              "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 422\", function () {",
                  "    pm.response.to.have.status(422);",
                  "});",
                  "",
                  "pm.test(\"Status es Unprocessable Entity\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});"
                ],
                "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "a3010d08-5158-4a38-b530-bd901fe8efc1",
          "length": 18,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "7f15cae4-beff-46f1-b061-5d61a56e30d4",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "8e4d493a-3421-4338-9f29-dcbf33b812a8"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 1,
          "test": "Content-Type es application/json",
          "message": "expected response to have header with key 'Content-Type'",
          "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:14)",
          "checksum": "25131faaf97d26755ba49883c5e820d9",
          "id": "f3f14147-61f6-430f-a866-73b9991cf157",
          "timestamp": 1767989742991,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 14,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
          "name": "Unprocessable Entity - 422",
          "request": {
            "description": {
              "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 422\", function () {",
                  "    pm.response.to.have.status(422);",
                  "});",
                  "",
                  "pm.test(\"Status es Unprocessable Entity\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});"
                ],
                "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "a3010d08-5158-4a38-b530-bd901fe8efc1",
          "length": 18,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "7f15cae4-beff-46f1-b061-5d61a56e30d4",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "8e4d493a-3421-4338-9f29-dcbf33b812a8"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "HTTP Status es 422",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:14)",
          "checksum": "b0c20250f47ee64ee60c326c3ab1bcc5",
          "id": "b5f49a7a-62b2-4ea2-9242-683c4feba9e6",
          "timestamp": 1767989742994,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 14,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
          "name": "Unprocessable Entity - 422",
          "request": {
            "description": {
              "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 422\", function () {",
                  "    pm.response.to.have.status(422);",
                  "});",
                  "",
                  "pm.test(\"Status es Unprocessable Entity\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});"
                ],
                "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "a3010d08-5158-4a38-b530-bd901fe8efc1",
          "length": 18,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "7f15cae4-beff-46f1-b061-5d61a56e30d4",
          "scriptId": "f5151ceb-c738-4153-bc79-c3414651ef28",
          "execution": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Status es Unprocessable Entity",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:14)",
          "checksum": "92e9cb779d09e082be4608d9cadd08e1",
          "id": "9a0bd01a-1afe-4175-9cf5-827cfe4d91db",
          "timestamp": 1767989742994,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 14,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
          "name": "Unprocessable Entity - 422",
          "request": {
            "description": {
              "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 422\", function () {",
                  "    pm.response.to.have.status(422);",
                  "});",
                  "",
                  "pm.test(\"Status es Unprocessable Entity\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});"
                ],
                "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "a3010d08-5158-4a38-b530-bd901fe8efc1",
          "length": 18,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "7f15cae4-beff-46f1-b061-5d61a56e30d4",
          "scriptId": "f5151ceb-c738-4153-bc79-c3414651ef28",
          "execution": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Mensaje al cliente es correcto",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:14)",
          "checksum": "86c0d2dda665babfa0c7cd7b849de441",
          "id": "adef8b2d-867e-4d67-ab05-a5b3fec6fcc1",
          "timestamp": 1767989742994,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 14,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
          "name": "Unprocessable Entity - 422",
          "request": {
            "description": {
              "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 422\", function () {",
                  "    pm.response.to.have.status(422);",
                  "});",
                  "",
                  "pm.test(\"Status es Unprocessable Entity\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                  "});"
                ],
                "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "a3010d08-5158-4a38-b530-bd901fe8efc1",
          "length": 18,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "7f15cae4-beff-46f1-b061-5d61a56e30d4",
          "scriptId": "f5151ceb-c738-4153-bc79-c3414651ef28",
          "execution": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api-checkout-staging.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api-checkout-staging.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:121:26)",
          "checksum": "0815f653f21e24ab7bd341340f78a17d",
          "id": "ab3b054b-08d1-49a6-be5a-5b1e1f77c5d9",
          "timestamp": 1767989743112,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 121,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
          "name": "Too Many Requests - 429",
          "request": {
            "description": {
              "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "protocol": "https",
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "api-checkout-staging",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Rate-Limit",
                "value": "true"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "012f844b-5930-4914-8fb0-924d27201510",
                "system": true
              },
              {
                "key": "Host",
                "value": "api-checkout-staging.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 429\", function () {",
                  "    pm.response.to.have.status(429);",
                  "});",
                  "",
                  "pm.test(\"Status es Too Many Requests\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "c2ec298e-9d23-44b4-b931-450beb791996",
          "length": 18,
          "cycles": 1,
          "position": 14,
          "iteration": 0,
          "httpRequestId": "602a4b8f-a68f-49b8-9f2f-c5a872d7103c"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Response time es menor a 2000ms",
          "message": "expected undefined to be a number or a date",
          "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:15)",
          "checksum": "91823c7c367cfe6e737bd1efd3feb8da",
          "id": "e0095ef5-4c26-4dd0-bcc9-9323e94f0b5c",
          "timestamp": 1767989743116,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 15,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
          "name": "Too Many Requests - 429",
          "request": {
            "description": {
              "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Rate-Limit",
                "value": "true"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 429\", function () {",
                  "    pm.response.to.have.status(429);",
                  "});",
                  "",
                  "pm.test(\"Status es Too Many Requests\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "c2ec298e-9d23-44b4-b931-450beb791996",
          "length": 18,
          "cycles": 1,
          "position": 14,
          "iteration": 0,
          "httpRequestId": "602a4b8f-a68f-49b8-9f2f-c5a872d7103c",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "cde33205-4c3b-4cd4-b3b9-f5d4a4a90917"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 1,
          "test": "Content-Type es application/json",
          "message": "expected response to have header with key 'Content-Type'",
          "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:15)",
          "checksum": "364b4741f7492b53759ec21c043f0e25",
          "id": "bc436d49-777e-43c3-9359-3649d3a6c172",
          "timestamp": 1767989743116,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 15,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
          "name": "Too Many Requests - 429",
          "request": {
            "description": {
              "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Rate-Limit",
                "value": "true"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 429\", function () {",
                  "    pm.response.to.have.status(429);",
                  "});",
                  "",
                  "pm.test(\"Status es Too Many Requests\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "c2ec298e-9d23-44b4-b931-450beb791996",
          "length": 18,
          "cycles": 1,
          "position": 14,
          "iteration": 0,
          "httpRequestId": "602a4b8f-a68f-49b8-9f2f-c5a872d7103c",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "cde33205-4c3b-4cd4-b3b9-f5d4a4a90917"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "HTTP Status es 429",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:15)",
          "checksum": "fcd11488b2010e8d77bc6cfd8affd706",
          "id": "33720dd3-5f77-4168-b1c8-7a73e4e28556",
          "timestamp": 1767989743120,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 15,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
          "name": "Too Many Requests - 429",
          "request": {
            "description": {
              "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Rate-Limit",
                "value": "true"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 429\", function () {",
                  "    pm.response.to.have.status(429);",
                  "});",
                  "",
                  "pm.test(\"Status es Too Many Requests\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "c2ec298e-9d23-44b4-b931-450beb791996",
          "length": 18,
          "cycles": 1,
          "position": 14,
          "iteration": 0,
          "httpRequestId": "602a4b8f-a68f-49b8-9f2f-c5a872d7103c",
          "scriptId": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
          "execution": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Status es Too Many Requests",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:15)",
          "checksum": "a88c2cfed416e8d0398c92bc2f127f46",
          "id": "3b6206ce-2219-4e8a-82a3-89cc319e2103",
          "timestamp": 1767989743120,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 15,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
          "name": "Too Many Requests - 429",
          "request": {
            "description": {
              "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Rate-Limit",
                "value": "true"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 429\", function () {",
                  "    pm.response.to.have.status(429);",
                  "});",
                  "",
                  "pm.test(\"Status es Too Many Requests\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "c2ec298e-9d23-44b4-b931-450beb791996",
          "length": 18,
          "cycles": 1,
          "position": 14,
          "iteration": 0,
          "httpRequestId": "602a4b8f-a68f-49b8-9f2f-c5a872d7103c",
          "scriptId": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
          "execution": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Mensaje al cliente es correcto",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:15)",
          "checksum": "92a4e20015b719c69fe9b9f97c0cd49e",
          "id": "df9bd42a-a59e-4a68-9297-e72557398f53",
          "timestamp": 1767989743120,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 15,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
          "name": "Too Many Requests - 429",
          "request": {
            "description": {
              "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Rate-Limit",
                "value": "true"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 429\", function () {",
                  "    pm.response.to.have.status(429);",
                  "});",
                  "",
                  "pm.test(\"Status es Too Many Requests\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "c2ec298e-9d23-44b4-b931-450beb791996",
          "length": 18,
          "cycles": 1,
          "position": 14,
          "iteration": 0,
          "httpRequestId": "602a4b8f-a68f-49b8-9f2f-c5a872d7103c",
          "scriptId": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
          "execution": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 3,
          "test": "Requiere alerta de criticidad Alta",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:15)",
          "checksum": "fb28b8103ae557734378ccaa697f322d",
          "id": "9b65adc6-1b2f-428c-a246-9b8e158b760e",
          "timestamp": 1767989743121,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 4,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 15,
              "native": false
            }
          ]
        },
        "at": "assertion:3 in test-script",
        "source": {
          "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
          "name": "Too Many Requests - 429",
          "request": {
            "description": {
              "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Rate-Limit",
                "value": "true"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 429\", function () {",
                  "    pm.response.to.have.status(429);",
                  "});",
                  "",
                  "pm.test(\"Status es Too Many Requests\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "c2ec298e-9d23-44b4-b931-450beb791996",
          "length": 18,
          "cycles": 1,
          "position": 14,
          "iteration": 0,
          "httpRequestId": "602a4b8f-a68f-49b8-9f2f-c5a872d7103c",
          "scriptId": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
          "execution": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api-checkout-staging.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api-checkout-staging.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:121:26)",
          "checksum": "0815f653f21e24ab7bd341340f78a17d",
          "id": "e9c70d19-c620-46e4-b7bc-683d5e8d9f1a",
          "timestamp": 1767989743238,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 121,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
          "name": "Internal Server Error - 500",
          "request": {
            "description": {
              "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "protocol": "https",
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "api-checkout-staging",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Error",
                "value": "500"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "61bd41c2-611e-4f23-a89d-b24f0262b152",
                "system": true
              },
              {
                "key": "Host",
                "value": "api-checkout-staging.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 500\", function () {",
                  "    pm.response.to.have.status(500);",
                  "});",
                  "",
                  "pm.test(\"Status es Internal Server Error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "3482fc22-d4d8-404b-8535-6fe731dc10f9",
          "length": 18,
          "cycles": 1,
          "position": 15,
          "iteration": 0,
          "httpRequestId": "c44f4fba-773d-4806-9a99-e8ea70af6748"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Response time es menor a 2000ms",
          "message": "expected undefined to be a number or a date",
          "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:16)",
          "checksum": "1afcd827c704914a3421ef68ff447019",
          "id": "40f5eefd-4114-433e-b75c-7f44ab8ddb87",
          "timestamp": 1767989743240,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
          "name": "Internal Server Error - 500",
          "request": {
            "description": {
              "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Error",
                "value": "500"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 500\", function () {",
                  "    pm.response.to.have.status(500);",
                  "});",
                  "",
                  "pm.test(\"Status es Internal Server Error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3482fc22-d4d8-404b-8535-6fe731dc10f9",
          "length": 18,
          "cycles": 1,
          "position": 15,
          "iteration": 0,
          "httpRequestId": "c44f4fba-773d-4806-9a99-e8ea70af6748",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "bdfd3d4f-20ce-41d1-b10f-aa5b30ab0bd0"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 1,
          "test": "Content-Type es application/json",
          "message": "expected response to have header with key 'Content-Type'",
          "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:16)",
          "checksum": "5bd6578e5ae81de8ebf532327cce9653",
          "id": "13dca27b-b26f-4b02-874b-9af28b211a58",
          "timestamp": 1767989743240,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
          "name": "Internal Server Error - 500",
          "request": {
            "description": {
              "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Error",
                "value": "500"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 500\", function () {",
                  "    pm.response.to.have.status(500);",
                  "});",
                  "",
                  "pm.test(\"Status es Internal Server Error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3482fc22-d4d8-404b-8535-6fe731dc10f9",
          "length": 18,
          "cycles": 1,
          "position": 15,
          "iteration": 0,
          "httpRequestId": "c44f4fba-773d-4806-9a99-e8ea70af6748",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "bdfd3d4f-20ce-41d1-b10f-aa5b30ab0bd0"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "HTTP Status es 500",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:16)",
          "checksum": "e04e01cba16041dedbf09053bcdb7d7d",
          "id": "a46f2b8c-8020-4b1b-a825-b5c5e414739a",
          "timestamp": 1767989743243,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
          "name": "Internal Server Error - 500",
          "request": {
            "description": {
              "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Error",
                "value": "500"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 500\", function () {",
                  "    pm.response.to.have.status(500);",
                  "});",
                  "",
                  "pm.test(\"Status es Internal Server Error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3482fc22-d4d8-404b-8535-6fe731dc10f9",
          "length": 18,
          "cycles": 1,
          "position": 15,
          "iteration": 0,
          "httpRequestId": "c44f4fba-773d-4806-9a99-e8ea70af6748",
          "scriptId": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
          "execution": "8354bf1a-3217-4519-b222-37a526268a9a"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Status es Internal Server Error",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:16)",
          "checksum": "09460b24dca7b39f9195b750b7005bd8",
          "id": "480606ae-e446-488b-a00f-369f99a10ca4",
          "timestamp": 1767989743244,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
          "name": "Internal Server Error - 500",
          "request": {
            "description": {
              "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Error",
                "value": "500"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 500\", function () {",
                  "    pm.response.to.have.status(500);",
                  "});",
                  "",
                  "pm.test(\"Status es Internal Server Error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3482fc22-d4d8-404b-8535-6fe731dc10f9",
          "length": 18,
          "cycles": 1,
          "position": 15,
          "iteration": 0,
          "httpRequestId": "c44f4fba-773d-4806-9a99-e8ea70af6748",
          "scriptId": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
          "execution": "8354bf1a-3217-4519-b222-37a526268a9a"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Mensaje al cliente es correcto",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:16)",
          "checksum": "e44dbf3d3b04dc6118c8dc8a388a8569",
          "id": "20f502ea-aa88-45f6-9d7d-fea5132deae6",
          "timestamp": 1767989743244,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
          "name": "Internal Server Error - 500",
          "request": {
            "description": {
              "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Error",
                "value": "500"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 500\", function () {",
                  "    pm.response.to.have.status(500);",
                  "});",
                  "",
                  "pm.test(\"Status es Internal Server Error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3482fc22-d4d8-404b-8535-6fe731dc10f9",
          "length": 18,
          "cycles": 1,
          "position": 15,
          "iteration": 0,
          "httpRequestId": "c44f4fba-773d-4806-9a99-e8ea70af6748",
          "scriptId": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
          "execution": "8354bf1a-3217-4519-b222-37a526268a9a"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 3,
          "test": "Requiere alerta de criticidad Alta",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:16)",
          "checksum": "f08a650c3f09d5ee9eb29b11c1d66db2",
          "id": "5f436169-92b4-4771-9f9b-538a5eeaea95",
          "timestamp": 1767989743244,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 4,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "assertion:3 in test-script",
        "source": {
          "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
          "name": "Internal Server Error - 500",
          "request": {
            "description": {
              "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Error",
                "value": "500"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 500\", function () {",
                  "    pm.response.to.have.status(500);",
                  "});",
                  "",
                  "pm.test(\"Status es Internal Server Error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3482fc22-d4d8-404b-8535-6fe731dc10f9",
          "length": 18,
          "cycles": 1,
          "position": 15,
          "iteration": 0,
          "httpRequestId": "c44f4fba-773d-4806-9a99-e8ea70af6748",
          "scriptId": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
          "execution": "8354bf1a-3217-4519-b222-37a526268a9a"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api-checkout-staging.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api-checkout-staging.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:121:26)",
          "checksum": "0815f653f21e24ab7bd341340f78a17d",
          "id": "1720f189-c440-4f0d-9711-25a75e3868e7",
          "timestamp": 1767989743361,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 121,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
          "name": "Service Unavailable - 503",
          "request": {
            "description": {
              "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "protocol": "https",
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "api-checkout-staging",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Unavailable",
                "value": "true"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "f7bd9346-1117-4a2d-bf4b-ea45cedcb0fe",
                "system": true
              },
              {
                "key": "Host",
                "value": "api-checkout-staging.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 503\", function () {",
                  "    pm.response.to.have.status(503);",
                  "});",
                  "",
                  "pm.test(\"Status es Service Unavailable\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "80dddd77-b219-4fc8-b2b6-9f5ba3e90225",
          "length": 18,
          "cycles": 1,
          "position": 16,
          "iteration": 0,
          "httpRequestId": "55868afd-6df4-4c01-b9dd-596caeae199b"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Response time es menor a 2000ms",
          "message": "expected undefined to be a number or a date",
          "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:17)",
          "checksum": "484a48957df09d5172a40daa0758a573",
          "id": "242086bc-5868-4eef-b1db-bc2e3d465dbc",
          "timestamp": 1767989743364,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 17,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
          "name": "Service Unavailable - 503",
          "request": {
            "description": {
              "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Unavailable",
                "value": "true"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 503\", function () {",
                  "    pm.response.to.have.status(503);",
                  "});",
                  "",
                  "pm.test(\"Status es Service Unavailable\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "80dddd77-b219-4fc8-b2b6-9f5ba3e90225",
          "length": 18,
          "cycles": 1,
          "position": 16,
          "iteration": 0,
          "httpRequestId": "55868afd-6df4-4c01-b9dd-596caeae199b",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "e85614f0-68d7-4b78-b14a-5db93c2b6d01"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 1,
          "test": "Content-Type es application/json",
          "message": "expected response to have header with key 'Content-Type'",
          "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:17)",
          "checksum": "e25ad5ea26b1bd2fb1bbe4d14368dbef",
          "id": "787a9a92-bfa6-4eae-9465-67df8ae18008",
          "timestamp": 1767989743365,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 17,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
          "name": "Service Unavailable - 503",
          "request": {
            "description": {
              "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Unavailable",
                "value": "true"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 503\", function () {",
                  "    pm.response.to.have.status(503);",
                  "});",
                  "",
                  "pm.test(\"Status es Service Unavailable\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "80dddd77-b219-4fc8-b2b6-9f5ba3e90225",
          "length": 18,
          "cycles": 1,
          "position": 16,
          "iteration": 0,
          "httpRequestId": "55868afd-6df4-4c01-b9dd-596caeae199b",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "e85614f0-68d7-4b78-b14a-5db93c2b6d01"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "HTTP Status es 503",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:17)",
          "checksum": "7d8e806a36fdc514cea4136cf282aea9",
          "id": "ed536968-b984-4299-b168-96654d49d445",
          "timestamp": 1767989743368,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 17,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
          "name": "Service Unavailable - 503",
          "request": {
            "description": {
              "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Unavailable",
                "value": "true"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 503\", function () {",
                  "    pm.response.to.have.status(503);",
                  "});",
                  "",
                  "pm.test(\"Status es Service Unavailable\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "80dddd77-b219-4fc8-b2b6-9f5ba3e90225",
          "length": 18,
          "cycles": 1,
          "position": 16,
          "iteration": 0,
          "httpRequestId": "55868afd-6df4-4c01-b9dd-596caeae199b",
          "scriptId": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
          "execution": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Status es Service Unavailable",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:17)",
          "checksum": "b0ff41d1e4ea70723319c2120f6178f7",
          "id": "0cbbd1bb-f0e6-40af-81a7-14f091f3d4ba",
          "timestamp": 1767989743368,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 17,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
          "name": "Service Unavailable - 503",
          "request": {
            "description": {
              "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Unavailable",
                "value": "true"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 503\", function () {",
                  "    pm.response.to.have.status(503);",
                  "});",
                  "",
                  "pm.test(\"Status es Service Unavailable\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "80dddd77-b219-4fc8-b2b6-9f5ba3e90225",
          "length": 18,
          "cycles": 1,
          "position": 16,
          "iteration": 0,
          "httpRequestId": "55868afd-6df4-4c01-b9dd-596caeae199b",
          "scriptId": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
          "execution": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Mensaje al cliente es correcto",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:17)",
          "checksum": "7592da8234637fc02cf99239344bfab0",
          "id": "22b2c693-aad6-4f93-848f-a2a7683b536c",
          "timestamp": 1767989743368,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 17,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
          "name": "Service Unavailable - 503",
          "request": {
            "description": {
              "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Unavailable",
                "value": "true"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 503\", function () {",
                  "    pm.response.to.have.status(503);",
                  "});",
                  "",
                  "pm.test(\"Status es Service Unavailable\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "80dddd77-b219-4fc8-b2b6-9f5ba3e90225",
          "length": 18,
          "cycles": 1,
          "position": 16,
          "iteration": 0,
          "httpRequestId": "55868afd-6df4-4c01-b9dd-596caeae199b",
          "scriptId": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
          "execution": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 3,
          "test": "Requiere alerta de criticidad Alta",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:4:17)",
          "checksum": "3a1e4e756f92a1bfdd97746ec2eeffd8",
          "id": "b1fb2660-930a-428d-897c-d89361901bd8",
          "timestamp": 1767989743368,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 4,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 17,
              "native": false
            }
          ]
        },
        "at": "assertion:3 in test-script",
        "source": {
          "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
          "name": "Service Unavailable - 503",
          "request": {
            "description": {
              "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Simulate-Unavailable",
                "value": "true"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"HTTP Status es 503\", function () {",
                  "    pm.response.to.have.status(503);",
                  "});",
                  "",
                  "pm.test(\"Status es Service Unavailable\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                  "});",
                  "",
                  "pm.test(\"Mensaje al cliente es correcto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                  "});",
                  "",
                  "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                  "});"
                ],
                "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
              }
            }
          ]
        },
        "parent": {
          "id": "467cb5d7-aa0d-48ae-96d7-f40dcb6188ed",
          "name": "PayPal - Errores Técnicos",
          "description": {
            "content": "Casos de prueba de errores técnicos para PayPal",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "e3508988-5c75-41c0-9608-527c363bd73a",
              "name": "Bad Request - 400",
              "request": {
                "description": {
                  "content": "Prueba de solicitud mal formada.\n\nRespuesta esperada:\n- HTTP: 400\n- Status: Bad Request\n- Mensaje: Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"invalid_field\": \"value\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8714320f-f43a-4458-8220-527c2cb7e7ae",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 400\", function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test(\"Status es Bad Request\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Bad Request\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Ha ocurrido un error al procesar tu solicitud. Revisa los datos e inténtalo de nuevo.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "92cfc79f-3ba0-42a5-a6eb-60502358c06f"
                  }
                }
              ]
            },
            {
              "id": "544f53f5-4e1c-4dda-a34b-8a6116d0ffa2",
              "name": "Unauthorized - 401",
              "request": {
                "description": {
                  "content": "Prueba de autenticación inválida.\n\nRespuesta esperada:\n- HTTP: 401\n- Status: Unauthorized\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer INVALID_TOKEN"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3d039bdf-3864-4cff-8adf-a4a2da20a4df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 401\", function () {",
                      "    pm.response.to.have.status(401);",
                      "});",
                      "",
                      "pm.test(\"Status es Unauthorized\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unauthorized\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "efbb6e42-e5aa-4f79-97b5-4ba9b20c2fc7"
                  }
                }
              ]
            },
            {
              "id": "6b6a826f-6791-4afd-93b9-0310cd24ee51",
              "name": "Unprocessable Entity - 422",
              "request": {
                "description": {
                  "content": "Prueba de entidad no procesable (amount negativo).\n\nRespuesta esperada:\n- HTTP: 422\n- Status: Unprocessable Entity\n- Mensaje: Pago no procesado. Por favor, inténtalo con otro medio de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": -100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f5151ceb-c738-4153-bc79-c3414651ef28",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 422\", function () {",
                      "    pm.response.to.have.status(422);",
                      "});",
                      "",
                      "pm.test(\"Status es Unprocessable Entity\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Unprocessable Entity\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otro medio de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "eb4c3d59-9153-46d5-b753-b2dc94848ed6"
                  }
                }
              ]
            },
            {
              "id": "857795fb-465d-458b-95e4-e56ee5aed3b7",
              "name": "Too Many Requests - 429",
              "request": {
                "description": {
                  "content": "Prueba de límite de rate excedido.\n\nRespuesta esperada:\n- HTTP: 429\n- Status: Too Many Requests\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Rate-Limit",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707ff4a1-cd23-4580-aaa0-5b0e76e0b508",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 429\", function () {",
                      "    pm.response.to.have.status(429);",
                      "});",
                      "",
                      "pm.test(\"Status es Too Many Requests\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Too Many Requests\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "f0d0a9d2-a842-4b41-b704-7daec6fedbb2"
                  }
                }
              ]
            },
            {
              "id": "a7bf3b25-88a3-4a54-a77a-5b18c21f67ea",
              "name": "Internal Server Error - 500",
              "request": {
                "description": {
                  "content": "Prueba de error interno del servidor.\n\nRespuesta esperada:\n- HTTP: 500\n- Status: Internal Server Error\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Error",
                    "value": "500"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4f19eba6-2927-49ae-a72d-a1bc183ee4ee",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 500\", function () {",
                      "    pm.response.to.have.status(500);",
                      "});",
                      "",
                      "pm.test(\"Status es Internal Server Error\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Internal Server Error\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "8354bf1a-3217-4519-b222-37a526268a9a"
                  }
                }
              ]
            },
            {
              "id": "817a584f-f0f9-4609-9554-57fad4d2f22d",
              "name": "Service Unavailable - 503",
              "request": {
                "description": {
                  "content": "Prueba de servicio no disponible.\n\nRespuesta esperada:\n- HTTP: 503\n- Status: Service Unavailable\n- Mensaje: Pago no procesado. Por favor, vuelve a intentarlo más tarde.\n- Alerta: Alta",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-Simulate-Unavailable",
                    "value": "true"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"PayPal\",\n  \"proceso\": \"Pago\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"HTTP Status es 503\", function () {",
                      "    pm.response.to.have.status(503);",
                      "});",
                      "",
                      "pm.test(\"Status es Service Unavailable\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.status).to.eql(\"Service Unavailable\");",
                      "});",
                      "",
                      "pm.test(\"Mensaje al cliente es correcto\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, vuelve a intentarlo más tarde.\");",
                      "});",
                      "",
                      "pm.test(\"Requiere alerta de criticidad Alta\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.alerta).to.eql(\"Alta\");",
                      "});"
                    ],
                    "_lastExecutionId": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "80dddd77-b219-4fc8-b2b6-9f5ba3e90225",
          "length": 18,
          "cycles": 1,
          "position": 16,
          "iteration": 0,
          "httpRequestId": "55868afd-6df4-4c01-b9dd-596caeae199b",
          "scriptId": "2a72d1a5-6674-4a31-b925-8c19bfc65268",
          "execution": "33d0f1ff-7d9c-4576-91fe-4ebc387572c2"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api-checkout-staging.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api-checkout-staging.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api-checkout-staging.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:121:26)",
          "checksum": "0815f653f21e24ab7bd341340f78a17d",
          "id": "47ecd64e-1270-4daa-bca6-a0e815ca087f",
          "timestamp": 1767989743483,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 121,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "f5e45222-6dff-4caa-bb52-178903a5943a",
          "name": "Error Code No Documentado - Mensaje Genérico",
          "request": {
            "description": {
              "content": "Prueba de código de error no documentado.\n\nRespuesta esperada:\n- Mensaje genérico: Pago no procesado. Por favor, inténtalo con otra forma de pago",
              "type": "text/plain"
            },
            "url": {
              "protocol": "https",
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "api-checkout-staging",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "45fdaeee-36ee-4cde-96b0-a065c7eeb1bb",
                "system": true
              },
              {
                "key": "Host",
                "value": "api-checkout-staging.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"simulate_unknown_error\": true,\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "eda99e77-7c1c-4519-8ca6-a3c84077ab19",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Código de error no documentado\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Mensaje genérico mostrado\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra forma de pago\");",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "592417d5-c620-45ac-aa8e-637a9f3e86a8",
          "length": 18,
          "cycles": 1,
          "position": 17,
          "iteration": 0,
          "httpRequestId": "c5d1ee7f-cbdf-422f-88a3-5a0ffa9bb90e"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Response time es menor a 2000ms",
          "message": "expected undefined to be a number or a date",
          "stack": "AssertionError: expected undefined to be a number or a date\n   at Object.eval sandbox-script.js:1:18)",
          "checksum": "41f426b2d0d20b52e58fc51163b5de7e",
          "id": "0c7604c9-22f3-452e-80d1-56492dbe6a45",
          "timestamp": 1767989743487,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 18,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "f5e45222-6dff-4caa-bb52-178903a5943a",
          "name": "Error Code No Documentado - Mensaje Genérico",
          "request": {
            "description": {
              "content": "Prueba de código de error no documentado.\n\nRespuesta esperada:\n- Mensaje genérico: Pago no procesado. Por favor, inténtalo con otra forma de pago",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"simulate_unknown_error\": true,\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "eda99e77-7c1c-4519-8ca6-a3c84077ab19",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Código de error no documentado\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Mensaje genérico mostrado\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra forma de pago\");",
                  "});"
                ],
                "_lastExecutionId": "df3b9025-2523-4717-83a5-3cd31e544c6c"
              }
            }
          ]
        },
        "parent": {
          "id": "bd705882-081d-4abe-b911-528acbd93e18",
          "name": "Edge Cases",
          "description": {
            "content": "Casos extremos y edge cases",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "f5e45222-6dff-4caa-bb52-178903a5943a",
              "name": "Error Code No Documentado - Mensaje Genérico",
              "request": {
                "description": {
                  "content": "Prueba de código de error no documentado.\n\nRespuesta esperada:\n- Mensaje genérico: Pago no procesado. Por favor, inténtalo con otra forma de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"simulate_unknown_error\": true,\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "eda99e77-7c1c-4519-8ca6-a3c84077ab19",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Código de error no documentado\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Mensaje genérico mostrado\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra forma de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "df3b9025-2523-4717-83a5-3cd31e544c6c"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "592417d5-c620-45ac-aa8e-637a9f3e86a8",
          "length": 18,
          "cycles": 1,
          "position": 17,
          "iteration": 0,
          "httpRequestId": "c5d1ee7f-cbdf-422f-88a3-5a0ffa9bb90e",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "49c7895d-b309-4d4a-a291-91cc0987e657"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 1,
          "test": "Content-Type es application/json",
          "message": "expected response to have header with key 'Content-Type'",
          "stack": "AssertionError: expected response to have header with key 'Content-Type'\n   at Object.eval sandbox-script.js:2:18)",
          "checksum": "4bde097423c960984dd0e0c214e9e154",
          "id": "4599ee6b-e914-487b-a0e8-36a03b323c4c",
          "timestamp": 1767989743487,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 18,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "f5e45222-6dff-4caa-bb52-178903a5943a",
          "name": "Error Code No Documentado - Mensaje Genérico",
          "request": {
            "description": {
              "content": "Prueba de código de error no documentado.\n\nRespuesta esperada:\n- Mensaje genérico: Pago no procesado. Por favor, inténtalo con otra forma de pago",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"simulate_unknown_error\": true,\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "eda99e77-7c1c-4519-8ca6-a3c84077ab19",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Código de error no documentado\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Mensaje genérico mostrado\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra forma de pago\");",
                  "});"
                ],
                "_lastExecutionId": "df3b9025-2523-4717-83a5-3cd31e544c6c"
              }
            }
          ]
        },
        "parent": {
          "id": "bd705882-081d-4abe-b911-528acbd93e18",
          "name": "Edge Cases",
          "description": {
            "content": "Casos extremos y edge cases",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "f5e45222-6dff-4caa-bb52-178903a5943a",
              "name": "Error Code No Documentado - Mensaje Genérico",
              "request": {
                "description": {
                  "content": "Prueba de código de error no documentado.\n\nRespuesta esperada:\n- Mensaje genérico: Pago no procesado. Por favor, inténtalo con otra forma de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"simulate_unknown_error\": true,\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "eda99e77-7c1c-4519-8ca6-a3c84077ab19",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Código de error no documentado\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Mensaje genérico mostrado\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra forma de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "df3b9025-2523-4717-83a5-3cd31e544c6c"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "592417d5-c620-45ac-aa8e-637a9f3e86a8",
          "length": 18,
          "cycles": 1,
          "position": 17,
          "iteration": 0,
          "httpRequestId": "c5d1ee7f-cbdf-422f-88a3-5a0ffa9bb90e",
          "scriptId": "36bc5da2-b1f7-4ab9-b0f3-5b1f1e44aec9",
          "execution": "49c7895d-b309-4d4a-a291-91cc0987e657"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Código de error no documentado",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:18)",
          "checksum": "75a62f42fd664efb1396c693caf5c14f",
          "id": "f3a606dd-fe61-4859-9000-f980770e5eeb",
          "timestamp": 1767989743490,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 18,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "f5e45222-6dff-4caa-bb52-178903a5943a",
          "name": "Error Code No Documentado - Mensaje Genérico",
          "request": {
            "description": {
              "content": "Prueba de código de error no documentado.\n\nRespuesta esperada:\n- Mensaje genérico: Pago no procesado. Por favor, inténtalo con otra forma de pago",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"simulate_unknown_error\": true,\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "eda99e77-7c1c-4519-8ca6-a3c84077ab19",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Código de error no documentado\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Mensaje genérico mostrado\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra forma de pago\");",
                  "});"
                ],
                "_lastExecutionId": "df3b9025-2523-4717-83a5-3cd31e544c6c"
              }
            }
          ]
        },
        "parent": {
          "id": "bd705882-081d-4abe-b911-528acbd93e18",
          "name": "Edge Cases",
          "description": {
            "content": "Casos extremos y edge cases",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "f5e45222-6dff-4caa-bb52-178903a5943a",
              "name": "Error Code No Documentado - Mensaje Genérico",
              "request": {
                "description": {
                  "content": "Prueba de código de error no documentado.\n\nRespuesta esperada:\n- Mensaje genérico: Pago no procesado. Por favor, inténtalo con otra forma de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"simulate_unknown_error\": true,\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "eda99e77-7c1c-4519-8ca6-a3c84077ab19",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Código de error no documentado\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Mensaje genérico mostrado\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra forma de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "df3b9025-2523-4717-83a5-3cd31e544c6c"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "592417d5-c620-45ac-aa8e-637a9f3e86a8",
          "length": 18,
          "cycles": 1,
          "position": 17,
          "iteration": 0,
          "httpRequestId": "c5d1ee7f-cbdf-422f-88a3-5a0ffa9bb90e",
          "scriptId": "eda99e77-7c1c-4519-8ca6-a3c84077ab19",
          "execution": "df3b9025-2523-4717-83a5-3cd31e544c6c"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Mensaje genérico mostrado",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:18)",
          "checksum": "3d8620cc14ebf32750f85cc7254f41c6",
          "id": "eafdc5c6-6c61-4269-8c7b-b1887c984f37",
          "timestamp": 1767989743491,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 18,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "f5e45222-6dff-4caa-bb52-178903a5943a",
          "name": "Error Code No Documentado - Mensaje Genérico",
          "request": {
            "description": {
              "content": "Prueba de código de error no documentado.\n\nRespuesta esperada:\n- Mensaje genérico: Pago no procesado. Por favor, inténtalo con otra forma de pago",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "payment",
                "process"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"simulate_unknown_error\": true,\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "eda99e77-7c1c-4519-8ca6-a3c84077ab19",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Código de error no documentado\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Mensaje genérico mostrado\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra forma de pago\");",
                  "});"
                ],
                "_lastExecutionId": "df3b9025-2523-4717-83a5-3cd31e544c6c"
              }
            }
          ]
        },
        "parent": {
          "id": "bd705882-081d-4abe-b911-528acbd93e18",
          "name": "Edge Cases",
          "description": {
            "content": "Casos extremos y edge cases",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "f5e45222-6dff-4caa-bb52-178903a5943a",
              "name": "Error Code No Documentado - Mensaje Genérico",
              "request": {
                "description": {
                  "content": "Prueba de código de error no documentado.\n\nRespuesta esperada:\n- Mensaje genérico: Pago no procesado. Por favor, inténtalo con otra forma de pago",
                  "type": "text/plain"
                },
                "url": {
                  "path": [
                    "api",
                    "payment",
                    "process"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"psp\": \"Cybersource\",\n  \"proceso\": \"Pago\",\n  \"simulate_unknown_error\": true,\n  \"card_number\": \"4111111111111111\",\n  \"expiry_date\": \"12/2026\",\n  \"cvv\": \"123\",\n  \"amount\": 100.00\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "eda99e77-7c1c-4519-8ca6-a3c84077ab19",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Código de error no documentado\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "pm.test(\"Mensaje genérico mostrado\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.mensaje_cliente).to.eql(\"Pago no procesado. Por favor, inténtalo con otra forma de pago\");",
                      "});"
                    ],
                    "_lastExecutionId": "df3b9025-2523-4717-83a5-3cd31e544c6c"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "592417d5-c620-45ac-aa8e-637a9f3e86a8",
          "length": 18,
          "cycles": 1,
          "position": 17,
          "iteration": 0,
          "httpRequestId": "c5d1ee7f-cbdf-422f-88a3-5a0ffa9bb90e",
          "scriptId": "eda99e77-7c1c-4519-8ca6-a3c84077ab19",
          "execution": "df3b9025-2523-4717-83a5-3cd31e544c6c"
        }
      }
    ],
    "error": null
  }
}